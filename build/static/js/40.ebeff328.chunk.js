/*! For license information please see 40.ebeff328.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkdoc_sign_client=self.webpackChunkdoc_sign_client||[]).push([[40],{956:(e,t,a)=>{a.d(t,{A:()=>f});var s=a(5043),n=a(3216),r=a(5475),l=a(9798),i=a(2894),o=a(9445),c=a(2043),d=a(7784);const m=(0,d.A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),u=(0,d.A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),g=(0,d.A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]);var x=a(1089),h=a(579);const f=()=>{var e,t,a,d;const{user:f,logout:p}=(0,l.As)(),b=(0,n.Zp)(),v=(0,n.zy)(),{toast:y}=(0,o.dj)(),[j,w]=(0,s.useState)(!1),[N,k]=(0,s.useState)(!1),C=async()=>{k(!0);try{await p(),y({title:"Logged out",description:"You have been successfully logged out.",variant:"success"}),b("/login",{replace:!0,state:{from:v}})}catch(e){console.error("Logout error:",e),y({title:"Error",description:"Failed to log out. Please try again.",variant:"error"})}finally{k(!1)}};if(["/login","/register","/forgot-password","/reset-password"].includes(v.pathname))return null;const A=[{to:"/dashboard",label:"Dashboard"},{to:"/upload",label:"Upload"},{to:"/templates",label:"Templates"}];return(0,h.jsxs)("header",{className:"sticky top-0 z-40 w-full border-b bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/60",children:[(0,h.jsxs)("div",{className:"container flex h-16 items-center justify-between px-4 sm:px-6 lg:px-8",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsxs)(r.N_,{to:"/",className:"flex items-center space-x-2",children:[(0,h.jsx)("img",{src:"/logo.svg",alt:"Logo",className:"h-8 w-8"}),(0,h.jsx)("span",{className:"text-xl font-bold text-primary-600",children:"DocSign"})]}),(0,h.jsx)("nav",{className:"hidden md:flex md:ml-10 md:space-x-6",children:A.map(e=>(0,h.jsx)(r.N_,{to:e.to,className:(0,x.cn)("text-sm font-medium transition-colors hover:text-primary-600",v.pathname===e.to?"text-primary-600":"text-gray-700"),children:e.label},e.to))})]}),(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[f?(0,h.jsxs)("div",{className:"hidden md:flex items-center gap-4",children:[(0,h.jsx)(i.$,{variant:"ghost",size:"sm",onClick:C,disabled:N,leftIcon:N?(0,h.jsx)(c.A,{}):(0,h.jsx)(m,{}),children:N?"Logging out...":"Logout"}),(0,h.jsx)("div",{className:"h-8 w-px bg-gray-200"}),(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 font-medium",children:(null===(e=f.name)||void 0===e?void 0:e.charAt(0))||(null===(t=f.email)||void 0===t?void 0:t.charAt(0).toUpperCase())}),(0,h.jsx)("span",{className:"text-sm font-medium text-gray-700 hidden sm:inline",children:f.name||f.email})]})]}):(0,h.jsxs)("div",{className:"hidden md:flex items-center gap-2",children:[(0,h.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>b("/login"),children:"Login"}),(0,h.jsx)(i.$,{size:"sm",onClick:()=>b("/register"),children:"Get Started"})]}),(0,h.jsx)(i.$,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>w(!j),"aria-label":j?"Close menu":"Open menu",children:(()=>{const e=j?(0,h.jsx)(u,{className:"h-5 w-5"}):(0,h.jsx)(g,{className:"h-5 w-5"});if(!s.isValidElement(e))throw new Error("[Header] Mobile menu icon must be a valid React element.");return e})()})]})]}),j&&(0,h.jsx)("div",{className:"md:hidden",children:(0,h.jsxs)("div",{className:"space-y-1 px-2 pb-3 pt-2",children:[A.map(e=>(0,h.jsx)(r.N_,{to:e.to,className:(0,x.cn)("block rounded-md px-3 py-2 text-base font-medium",v.pathname===e.to?"bg-primary-50 text-primary-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),onClick:()=>w(!1),children:e.label},e.to)),f?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,h.jsxs)("div",{className:"flex items-center px-3 py-2",children:[(0,h.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 font-medium mr-2",children:(null===(a=f.name)||void 0===a?void 0:a.charAt(0))||(null===(d=f.email)||void 0===d?void 0:d.charAt(0).toUpperCase())}),(0,h.jsx)("span",{className:"text-sm font-medium text-gray-700",children:f.name||f.email})]}),(0,h.jsx)("button",{onClick:C,disabled:N,className:"w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:N?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("span",{className:"h-4 w-4 border-2 border-gray-400 border-t-primary-500 rounded-full animate-spin"}),"Logging out..."]}):"Logout"})]}):(0,h.jsxs)("div",{className:"pt-4 pb-2 space-y-2",children:[(0,h.jsx)(i.$,{className:"w-full",onClick:()=>{w(!1),b("/login")},children:"Login"}),(0,h.jsx)(i.$,{variant:"outline",className:"w-full",onClick:()=>{w(!1),b("/register")},children:"Get Started"})]})]})})]})}},1089:(e,t,a)=>{a.d(t,{cn:()=>r});var s=a(8387),n=a(5667);function r(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,s.$)(t))}},2894:(e,t,a)=>{a.d(t,{$:()=>u});var s=a(2555),n=a(3986),r=a(5043),l=a(2656),i=a(1089),o=a(2043),c=a(579);const d=["className","variant","size","isLoading","loadingText","leftIcon","rightIcon","children"],m=(0,l.F)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=r.forwardRef((e,t)=>{let{className:a,variant:l,size:u,isLoading:g=!1,loadingText:x,leftIcon:h,rightIcon:f,children:p}=e,b=(0,n.A)(e,d);if(h&&!r.isValidElement(h))throw new Error("[Button] leftIcon must be a valid React element (JSX), not a component or object. You likely wrote leftIcon={MenuIcon} instead of leftIcon={<MenuIcon />}.");if(f&&!r.isValidElement(f))throw new Error("[Button] rightIcon must be a valid React element (JSX), not a component or object. You likely wrote rightIcon={MenuIcon} instead of rightIcon={<MenuIcon />}.");if("function"===typeof p||"object"===typeof p&&!Array.isArray(p)&&!r.isValidElement(p)&&null!==p)throw new Error("[Button] children must be valid React nodes (JSX, string, number, or array of these). You likely passed a component or object.");const v=r.isValidElement(h)?r.cloneElement(h,{className:(0,i.cn)("mr-2 h-4 w-4",h.props.className)}):null,y=r.isValidElement(f)?r.cloneElement(f,{className:(0,i.cn)("ml-2 h-4 w-4",f.props.className)}):null;return(0,c.jsx)("button",(0,s.A)((0,s.A)({className:(0,i.cn)(m({variant:l,size:u,className:a})),ref:t,disabled:g,role:"button","aria-label":b["aria-label"]||void 0},b),{},{children:g?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.A,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),x||"Loading..."]}):(0,c.jsxs)(c.Fragment,{children:[v,p&&r.Children.map(p,(e,t)=>r.isValidElement(e)?r.cloneElement(e,{key:t}):e),y]})}))});u.displayName="Button"},8040:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var s=a(5043),n=a(9798),r=a(3216),l=a(956),i=a(7200),o=a(9059),c=a(579);const d={pending:"bg-amber-100 text-amber-700",signed:"bg-green-100 text-green-700",completed:"bg-blue-100 text-blue-700",draft:"bg-gray-100 text-gray-700"},m=()=>{const{user:e,logout:t,loading:a,token:m}=(0,n.As)(),u=(0,r.Zp)(),[g,x]=(0,s.useState)([]),[h,f]=(0,s.useState)(1),[p,b]=(0,s.useState)(0),[v]=(0,s.useState)(10),[y,j]=(0,s.useState)(!1),[w,N]=(0,s.useState)(""),[k,C]=(0,s.useState)(""),[A,S]=(0,s.useState)("");(0,s.useEffect)(()=>{e||a||u("/login")},[e,a]);(0,s.useEffect)(()=>{!async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;j(!0),N("");try{let t=m||localStorage.getItem("token");const a={Authorization:"Bearer ".concat(t)};let s="/api/docs?page=".concat(e,"&limit=").concat(v);k&&(s+="&search=".concat(encodeURIComponent(k))),A&&(s+="&status=".concat(encodeURIComponent(A)));const r=await n.FH.get(s,{headers:a});x(r.data.documents),b(r.data.pagination.total)}catch(t){N("Failed to load documents.")}finally{j(!1)}}(h)},[h,k,A]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l.A,{}),(0,c.jsx)("main",{id:"main-content",className:"min-h-screen flex items-center justify-center bg-gray-50",role:"main","aria-label":"Dashboard main content",children:(0,c.jsxs)("section",{className:"w-full max-w-5xl p-4 sm:p-8 bg-white rounded-2xl shadow-md","aria-labelledby":"dashboard-title",children:[(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-2",children:[(0,c.jsx)("h1",{id:"dashboard-title",className:"text-2xl font-semibold text-indigo-600",children:"Inkswift Dashboard"}),(0,c.jsx)(i.P.button,{onClick:async()=>{await t(),u("/login")},className:"px-4 py-2 bg-rose-500 text-white rounded-xl font-semibold hover:scale-105 transition-transform focus:outline-none focus:ring-2 focus:ring-rose-400 disabled:opacity-50",disabled:a,"aria-label":"Logout",whileHover:{scale:1.05},whileTap:{scale:.96},children:"Logout"})]}),(0,c.jsxs)("div",{className:"mb-2 text-gray-700",children:["Welcome, ",null===e||void 0===e?void 0:e.firstName," ",null===e||void 0===e?void 0:e.lastName,"!"]}),(0,c.jsx)(i.P.button,{className:"mb-4 px-4 py-2 bg-sky-500 text-white rounded-xl font-semibold hover:scale-105 transition-transform focus:outline-none focus:ring-2 focus:ring-sky-400",onClick:()=>u("/upload"),"aria-label":"Upload Document",whileHover:{scale:1.05},whileTap:{scale:.96},children:"+ Upload Document"}),(0,c.jsxs)("div",{className:"flex flex-col md:flex-row gap-2 mb-4 items-center justify-between",children:[(0,c.jsx)("input",{id:"dashboard-search",name:"search",type:"text",placeholder:"Search documents...",className:"border rounded px-3 py-2 w-full md:w-64 focus:outline-none focus:ring-2 focus:ring-indigo-400",value:k,onChange:e=>C(e.target.value),"aria-label":"Search documents"}),(0,c.jsxs)("select",{className:"border rounded px-3 py-2 w-full md:w-48 focus:outline-none focus:ring-2 focus:ring-indigo-400",value:A,onChange:e=>S(e.target.value),"aria-label":"Filter by status",children:[(0,c.jsx)("option",{value:"",children:"All Status"}),(0,c.jsx)("option",{value:"pending",children:"Pending"}),(0,c.jsx)("option",{value:"signed",children:"Signed"}),(0,c.jsx)("option",{value:"completed",children:"Completed"}),(0,c.jsx)("option",{value:"draft",children:"Draft"})]})]}),w&&(0,c.jsx)("div",{className:"text-rose-500 mb-2",role:"alert",children:w}),y?(0,c.jsx)("div",{className:"text-gray-400","aria-live":"polite",children:"Loading documents..."}):(0,c.jsxs)("div",{children:[0===g.length?(0,c.jsx)(o.A,{illustration:(0,c.jsxs)("svg",{viewBox:"0 0 64 64",fill:"none",className:"w-full h-full",children:[(0,c.jsx)("rect",{x:"8",y:"16",width:"48",height:"32",rx:"4",fill:"#E5E7EB"}),(0,c.jsx)("rect",{x:"16",y:"24",width:"32",height:"4",rx:"2",fill:"#9CA3AF"}),(0,c.jsx)("rect",{x:"16",y:"32",width:"24",height:"4",rx:"2",fill:"#D1D5DB"})]}),title:"No Documents Yet",description:"Upload your first document to get started."}):(0,c.jsx)("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4","aria-label":"Document list",children:g.map(e=>(0,c.jsxs)("li",{className:"rounded-2xl shadow-md p-4 bg-white flex flex-col justify-between","aria-label":"Document ".concat(e.originalName),children:[(0,c.jsxs)("article",{children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[e.previewUrl?(0,c.jsx)("img",{src:e.previewUrl,alt:"Document preview",className:"w-12 h-16 object-cover rounded border"}):(0,c.jsx)("div",{className:"w-12 h-16 bg-gray-200 rounded border flex items-center justify-center text-gray-400 text-lg font-bold",children:"PDF"}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("div",{className:"font-semibold text-indigo-600 truncate",children:e.originalName}),(0,c.jsxs)("div",{className:"text-sm text-gray-500",children:["Uploaded: ",new Date(e.createdAt).toLocaleString()]})]})]}),(0,c.jsx)("div",{className:"flex items-center gap-2 mt-1",children:(0,c.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold capitalize ".concat(d[e.status]||"bg-gray-100 text-gray-700"),children:e.status})})]}),(0,c.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,c.jsx)(i.P.button,{className:"flex-1 px-3 py-1 bg-indigo-600 text-white rounded-xl font-semibold hover:scale-105 transition-transform focus:outline-none focus:ring-2 focus:ring-indigo-400",onClick:()=>u("/document/".concat(e._id)),"aria-label":"View document ".concat(e.originalName),whileHover:{scale:1.05},whileTap:{scale:.96},children:"View"}),(0,c.jsx)(i.P.button,{className:"flex-1 px-3 py-1 bg-green-600 text-white rounded-xl font-semibold hover:scale-105 transition-transform focus:outline-none focus:ring-2 focus:ring-green-400",onClick:()=>u("/sign/".concat(e.signToken||e._id)),"aria-label":"Sign document ".concat(e.originalName),whileHover:{scale:1.05},whileTap:{scale:.96},children:"Sign"}),(0,c.jsx)(i.P.button,{className:"flex-1 px-3 py-1 bg-sky-500 text-white rounded-xl font-semibold hover:scale-105 transition-transform focus:outline-none focus:ring-2 focus:ring-sky-400",onClick:()=>u("/share/".concat(e._id)),"aria-label":"Share document ".concat(e.originalName),whileHover:{scale:1.05},whileTap:{scale:.96},children:"Share"})]})]},e._id))}),p>v&&(0,c.jsxs)("nav",{className:"flex justify-center mt-6 space-x-2","aria-label":"Pagination",children:[(0,c.jsx)("button",{className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-400",onClick:()=>f(e=>Math.max(1,e-1)),disabled:1===h,"aria-label":"Previous page",children:"Prev"}),(0,c.jsxs)("span",{className:"px-3 py-1","aria-live":"polite",children:["Page ",h]}),(0,c.jsx)("button",{className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-400",onClick:()=>f(e=>e+1),disabled:h*v>=p,"aria-label":"Next page",children:"Next"})]})]})]})})]})}},9059:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(5043),n=a(579);const r=e=>{let{illustration:t,title:a,description:r,children:l}=e;return(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[t?s.isValidElement(t)?(0,n.jsx)("div",{className:"w-40 h-40 mb-6",children:t}):"string"===typeof t?(0,n.jsx)("div",{className:"w-40 h-40 mb-6",dangerouslySetInnerHTML:{__html:t}}):null:null,a&&(0,n.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:a}),r&&(0,n.jsx)("p",{className:"text-gray-500 mb-4",children:r}),l]})}},9445:(e,t,a)=>{a.d(t,{dj:()=>g});var s=a(2555),n=a(3986),r=a(5043),l=a(2656),i=a(1089),o=a(579);const c=["className","variant"],d=r.createContext({toast:()=>{},removeToast:()=>{}}),m=(0,l.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all",{variants:{variant:{default:"border bg-background text-foreground",destructive:"border-destructive bg-destructive text-destructive-foreground",success:"border-green-500 bg-green-50 text-green-900",warning:"border-amber-500 bg-amber-50 text-amber-900",info:"border-blue-500 bg-blue-50 text-blue-900"}},defaultVariants:{variant:"default"}}),u=r.forwardRef((e,t)=>{let{className:a,variant:r}=e,l=(0,n.A)(e,c);return(0,o.jsx)("div",(0,s.A)({ref:t,className:(0,i.cn)(m({variant:r}),a)},l))});u.displayName="Toast";const g=()=>{const e=r.useContext(d);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}}}]);
//# sourceMappingURL=40.ebeff328.chunk.js.map