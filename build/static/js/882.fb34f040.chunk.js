/*! For license information please see 882.fb34f040.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkdoc_sign_client=self.webpackChunkdoc_sign_client||[]).push([[882],{956:(e,t,s)=>{s.d(t,{A:()=>p});var a=s(5043),r=s(3216),n=s(5475),i=s(9798),o=s(2894),l=s(9445),d=s(2043),c=s(7784);const m=(0,c.A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),u=(0,c.A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),g=(0,c.A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]);var h=s(1089),x=s(579);const p=()=>{var e,t,s,c;const{user:p,logout:f}=(0,i.As)(),b=(0,r.Zp)(),v=(0,r.zy)(),{toast:y}=(0,l.dj)(),[w,j]=(0,a.useState)(!1),[N,k]=(0,a.useState)(!1),A=async()=>{k(!0);try{await f(),y({title:"Logged out",description:"You have been successfully logged out.",variant:"success"}),b("/login",{replace:!0,state:{from:v}})}catch(e){console.error("Logout error:",e),y({title:"Error",description:"Failed to log out. Please try again.",variant:"error"})}finally{k(!1)}};if(["/login","/register","/forgot-password","/reset-password"].includes(v.pathname))return null;const C=[{to:"/dashboard",label:"Dashboard"},{to:"/upload",label:"Upload"},{to:"/templates",label:"Templates"}];return(0,x.jsxs)("header",{className:"sticky top-0 z-40 w-full border-b bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/60",children:[(0,x.jsxs)("div",{className:"container flex h-16 items-center justify-between px-4 sm:px-6 lg:px-8",children:[(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsxs)(n.N_,{to:"/",className:"flex items-center space-x-2",children:[(0,x.jsx)("img",{src:"/logo.svg",alt:"Logo",className:"h-8 w-8"}),(0,x.jsx)("span",{className:"text-xl font-bold text-primary-600",children:"DocSign"})]}),(0,x.jsx)("nav",{className:"hidden md:flex md:ml-10 md:space-x-6",children:C.map(e=>(0,x.jsx)(n.N_,{to:e.to,className:(0,h.cn)("text-sm font-medium transition-colors hover:text-primary-600",v.pathname===e.to?"text-primary-600":"text-gray-700"),children:e.label},e.to))})]}),(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[p?(0,x.jsxs)("div",{className:"hidden md:flex items-center gap-4",children:[(0,x.jsx)(o.$,{variant:"ghost",size:"sm",onClick:A,disabled:N,leftIcon:N?(0,x.jsx)(d.A,{}):(0,x.jsx)(m,{}),children:N?"Logging out...":"Logout"}),(0,x.jsx)("div",{className:"h-8 w-px bg-gray-200"}),(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 font-medium",children:(null===(e=p.name)||void 0===e?void 0:e.charAt(0))||(null===(t=p.email)||void 0===t?void 0:t.charAt(0).toUpperCase())}),(0,x.jsx)("span",{className:"text-sm font-medium text-gray-700 hidden sm:inline",children:p.name||p.email})]})]}):(0,x.jsxs)("div",{className:"hidden md:flex items-center gap-2",children:[(0,x.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>b("/login"),children:"Login"}),(0,x.jsx)(o.$,{size:"sm",onClick:()=>b("/register"),children:"Get Started"})]}),(0,x.jsx)(o.$,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>j(!w),"aria-label":w?"Close menu":"Open menu",children:(()=>{const e=w?(0,x.jsx)(u,{className:"h-5 w-5"}):(0,x.jsx)(g,{className:"h-5 w-5"});if(!a.isValidElement(e))throw new Error("[Header] Mobile menu icon must be a valid React element.");return e})()})]})]}),w&&(0,x.jsx)("div",{className:"md:hidden",children:(0,x.jsxs)("div",{className:"space-y-1 px-2 pb-3 pt-2",children:[C.map(e=>(0,x.jsx)(n.N_,{to:e.to,className:(0,h.cn)("block rounded-md px-3 py-2 text-base font-medium",v.pathname===e.to?"bg-primary-50 text-primary-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),onClick:()=>j(!1),children:e.label},e.to)),p?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,x.jsxs)("div",{className:"flex items-center px-3 py-2",children:[(0,x.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 font-medium mr-2",children:(null===(s=p.name)||void 0===s?void 0:s.charAt(0))||(null===(c=p.email)||void 0===c?void 0:c.charAt(0).toUpperCase())}),(0,x.jsx)("span",{className:"text-sm font-medium text-gray-700",children:p.name||p.email})]}),(0,x.jsx)("button",{onClick:A,disabled:N,className:"w-full text-left px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:N?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{className:"h-4 w-4 border-2 border-gray-400 border-t-primary-500 rounded-full animate-spin"}),"Logging out..."]}):"Logout"})]}):(0,x.jsxs)("div",{className:"pt-4 pb-2 space-y-2",children:[(0,x.jsx)(o.$,{className:"w-full",onClick:()=>{j(!1),b("/login")},children:"Login"}),(0,x.jsx)(o.$,{variant:"outline",className:"w-full",onClick:()=>{j(!1),b("/register")},children:"Get Started"})]})]})})]})}},1089:(e,t,s)=>{s.d(t,{cn:()=>n});var a=s(8387),r=s(5667);function n(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},2894:(e,t,s)=>{s.d(t,{$:()=>u});var a=s(2555),r=s(3986),n=s(5043),i=s(2656),o=s(1089),l=s(2043),d=s(579);const c=["className","variant","size","isLoading","loadingText","leftIcon","rightIcon","children"],m=(0,i.F)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=n.forwardRef((e,t)=>{let{className:s,variant:i,size:u,isLoading:g=!1,loadingText:h,leftIcon:x,rightIcon:p,children:f}=e,b=(0,r.A)(e,c);if(x&&!n.isValidElement(x))throw new Error("[Button] leftIcon must be a valid React element (JSX), not a component or object. You likely wrote leftIcon={MenuIcon} instead of leftIcon={<MenuIcon />}.");if(p&&!n.isValidElement(p))throw new Error("[Button] rightIcon must be a valid React element (JSX), not a component or object. You likely wrote rightIcon={MenuIcon} instead of rightIcon={<MenuIcon />}.");if("function"===typeof f||"object"===typeof f&&!Array.isArray(f)&&!n.isValidElement(f)&&null!==f)throw new Error("[Button] children must be valid React nodes (JSX, string, number, or array of these). You likely passed a component or object.");const v=n.isValidElement(x)?n.cloneElement(x,{className:(0,o.cn)("mr-2 h-4 w-4",x.props.className)}):null,y=n.isValidElement(p)?n.cloneElement(p,{className:(0,o.cn)("ml-2 h-4 w-4",p.props.className)}):null;return(0,d.jsx)("button",(0,a.A)((0,a.A)({className:(0,o.cn)(m({variant:i,size:u,className:s})),ref:t,disabled:g,role:"button","aria-label":b["aria-label"]||void 0},b),{},{children:g?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.A,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),h||"Loading..."]}):(0,d.jsxs)(d.Fragment,{children:[v,f&&n.Children.map(f,(e,t)=>n.isValidElement(e)?n.cloneElement(e,{key:t}):e),y]})}))});u.displayName="Button"},7882:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var a=s(5043),r=s(3216),n=s(9798),i=s(7200),o=s(956),l=s(579);const d=()=>{const{token:e}=(0,r.g)(),t=(0,r.Zp)(),[s,d]=(0,a.useState)(""),[c,m]=(0,a.useState)(!1),[u,g]=(0,a.useState)(!1),[h,x]=(0,a.useState)("");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.A,{}),(0,l.jsx)("main",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,l.jsxs)("section",{className:"w-full max-w-md p-8 bg-white rounded-2xl shadow-md","aria-labelledby":"reset-title",children:[(0,l.jsx)("h1",{id:"reset-title",className:"text-2xl font-semibold text-indigo-600 mb-4",children:"Reset Password"}),u?(0,l.jsx)("div",{className:"text-green-600 font-medium",children:"Password reset! Redirecting to login..."}):(0,l.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),m(!0),x("");try{await n.FH.post("/api/auth/reset-password",{token:e,newPassword:s}),g(!0),setTimeout(()=>t("/login"),2e3)}catch(o){var r,i;x((null===(r=o.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||"Failed to reset password.")}m(!1)},className:"flex flex-col gap-4",children:[(0,l.jsx)("input",{id:"reset-password",name:"newPassword",type:"password",className:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400",placeholder:"New password",value:s,onChange:e=>d(e.target.value),required:!0,minLength:8,"aria-label":"New password"}),(0,l.jsx)(i.P.button,{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-indigo-400",disabled:c,"aria-label":"Reset password",whileHover:{scale:1.05},whileTap:{scale:.96},children:c?"Resetting...":"Reset Password"}),h&&(0,l.jsx)("div",{className:"text-rose-500 text-sm",role:"alert",children:h})]})]})})]})}},9445:(e,t,s)=>{s.d(t,{dj:()=>g});var a=s(2555),r=s(3986),n=s(5043),i=s(2656),o=s(1089),l=s(579);const d=["className","variant"],c=n.createContext({toast:()=>{},removeToast:()=>{}}),m=(0,i.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all",{variants:{variant:{default:"border bg-background text-foreground",destructive:"border-destructive bg-destructive text-destructive-foreground",success:"border-green-500 bg-green-50 text-green-900",warning:"border-amber-500 bg-amber-50 text-amber-900",info:"border-blue-500 bg-blue-50 text-blue-900"}},defaultVariants:{variant:"default"}}),u=n.forwardRef((e,t)=>{let{className:s,variant:n}=e,i=(0,r.A)(e,d);return(0,l.jsx)("div",(0,a.A)({ref:t,className:(0,o.cn)(m({variant:n}),s)},i))});u.displayName="Toast";const g=()=>{const e=n.useContext(c);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}}}]);
//# sourceMappingURL=882.fb34f040.chunk.js.map