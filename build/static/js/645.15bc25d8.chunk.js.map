{"version":3,"file":"static/js/645.15bc25d8.chunk.js","mappings":"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","sources":["components/SignatureInputModal.js","components/PDFRenderer.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\nimport { AnimatePresence, motion } from 'framer-motion';\r\nimport SignaturePad from 'signature_pad';\r\n\r\nconst fonts = [\r\n  { label: 'Handwritten', value: 'Pacifico, cursive' },\r\n  { label: 'Serif', value: 'Georgia, serif' },\r\n  { label: 'Sans', value: 'Arial, sans-serif' },\r\n  { label: 'Script', value: 'Dancing Script, cursive' },\r\n  { label: 'Monospace', value: 'Courier New, monospace' },\r\n];\r\n\r\nconst modalVariants = {\r\n  hidden: { opacity: 0, scale: 0.96, y: 24 },\r\n  visible: { opacity: 1, scale: 1, y: 0, transition: { duration: 0.22, ease: 'easeOut' } },\r\n  exit: { opacity: 0, scale: 0.96, y: -24, transition: { duration: 0.18, ease: 'easeIn' } },\r\n};\r\n\r\nconst SignatureInputModal = ({ open, onClose, onSave }) => {\r\n  const [mode, setMode] = useState('draw');\r\n  const [typedName, setTypedName] = useState('');\r\n  const [typedFont, setTypedFont] = useState(fonts[0].value);\r\n  const [uploadUrl, setUploadUrl] = useState(null);\r\n  const canvasRef = useRef();\r\n  const signaturePadRef = useRef();\r\n  const modalRef = useRef();\r\n  const inputRef = useRef();\r\n  const [uploadError, setUploadError] = useState('');\r\n  const [drawPreview, setDrawPreview] = useState(null);\r\n  const [isPadEmpty, setIsPadEmpty] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    if (mode === 'draw' && canvasRef.current) {\r\n      if (signaturePadRef.current) {\r\n        signaturePadRef.current.off();\r\n        signaturePadRef.current = null;\r\n      }\r\n      signaturePadRef.current = new SignaturePad(canvasRef.current, {\r\n        backgroundColor: 'rgb(255,255,255)',\r\n        penColor: 'rgb(0,0,0)',\r\n        minWidth: 1.5,\r\n        maxWidth: 2.5,\r\n        throttle: 16,\r\n        onEnd: () => {\r\n          updateDrawPreview();\r\n        },\r\n      });\r\n      const updateOnPointerUp = () => {\r\n        updateDrawPreview();\r\n      };\r\n      canvasRef.current.addEventListener('pointerup', updateOnPointerUp);\r\n      canvasRef.current.addEventListener('touchend', updateOnPointerUp);\r\n      setIsPadEmpty(true);\r\n      setDrawPreview(null);\r\n      return () => {\r\n        if (canvasRef.current) {\r\n          canvasRef.current.removeEventListener('pointerup', updateOnPointerUp);\r\n          canvasRef.current.removeEventListener('touchend', updateOnPointerUp);\r\n        }\r\n      };\r\n    }\r\n    setTimeout(() => {\r\n      if (mode === 'draw' && canvasRef.current) canvasRef.current.focus();\r\n      if (mode === 'type' && inputRef.current) inputRef.current.focus();\r\n    }, 0);\r\n  }, [open, mode]);\r\n\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    const handleKeyDown = (e) => {\r\n      if (e.key === 'Escape') onClose();\r\n      if (e.key === 'Tab' && modalRef.current) {\r\n        const focusable = modalRef.current.querySelectorAll('input, button, canvas, [tabindex]:not([tabindex=\"-1\"])');\r\n        const first = focusable[0];\r\n        const last = focusable[focusable.length - 1];\r\n        if (e.shiftKey ? document.activeElement === first : document.activeElement === last) {\r\n          e.preventDefault();\r\n          (e.shiftKey ? last : first).focus();\r\n        }\r\n      }\r\n    };\r\n    document.addEventListener('keydown', handleKeyDown);\r\n    return () => document.removeEventListener('keydown', handleKeyDown);\r\n  }, [open, onClose]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (signaturePadRef.current) {\r\n        signaturePadRef.current.off();\r\n        signaturePadRef.current = null;\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  if (!open) return null;\r\n\r\n  const updateDrawPreview = () => {\r\n    if (signaturePadRef.current) {\r\n      const empty = signaturePadRef.current.isEmpty();\r\n      setIsPadEmpty(empty);\r\n      setDrawPreview(empty ? null : signaturePadRef.current.toDataURL('image/png'));\r\n    }\r\n  };\r\n\r\n  const handleClear = () => {\r\n    if (signaturePadRef.current) {\r\n      signaturePadRef.current.clear();\r\n      updateDrawPreview();\r\n    }\r\n  };\r\n  const handleUndo = () => {\r\n    if (signaturePadRef.current) {\r\n      const data = signaturePadRef.current.toData();\r\n      if (data) {\r\n        data.pop();\r\n        signaturePadRef.current.fromData(data);\r\n        updateDrawPreview();\r\n      }\r\n    }\r\n  };\r\n  const handleUpload = (e) => {\r\n    setUploadError('');\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n    const validTypes = ['image/png', 'image/jpeg', 'image/jpg', 'image/svg+xml'];\r\n    if (!validTypes.includes(file.type)) {\r\n      setUploadError('Only PNG, JPG, JPEG, or SVG files are allowed.');\r\n      return;\r\n    }\r\n    if (file.size > 1024 * 1024) {\r\n      setUploadError('File size must be 1MB or less.');\r\n      return;\r\n    }\r\n    const reader = new FileReader();\r\n    reader.onload = (ev) => setUploadUrl(ev.target.result);\r\n    reader.readAsDataURL(file);\r\n  };\r\n  const handleSave = () => {\r\n    if (mode === 'draw') {\r\n      if (signaturePadRef.current && !signaturePadRef.current.isEmpty()) {\r\n        const dataUrl = signaturePadRef.current.toDataURL('image/png');\r\n        onSave(dataUrl, 'drawn');\r\n      }\r\n    } else if (mode === 'type') {\r\n      if (typedName.trim()) {\r\n        const canvas = document.createElement('canvas');\r\n        canvas.width = 400;\r\n        canvas.height = 100;\r\n        const ctx = canvas.getContext('2d');\r\n        ctx.fillStyle = '#fff';\r\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n        ctx.font = `48px ${typedFont}`;\r\n        ctx.fillStyle = '#222';\r\n        ctx.textBaseline = 'middle';\r\n        ctx.textAlign = 'center';\r\n        ctx.fillText(typedName, 200, 50);\r\n        onSave(canvas.toDataURL('image/png'), 'typed');\r\n      }\r\n    } else if (mode === 'upload' && uploadUrl) {\r\n      onSave(uploadUrl, 'uploaded');\r\n    }\r\n  };\r\n  const canSave = () => {\r\n    if (mode === 'draw') return signaturePadRef.current && !signaturePadRef.current.isEmpty();\r\n    if (mode === 'type') return typedName.trim().length > 0;\r\n    if (mode === 'upload') return uploadUrl;\r\n    return false;\r\n  };\r\n  return (\r\n    <AnimatePresence>\r\n      {open && (\r\n        <motion.div className=\"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"signature-modal-title\" aria-describedby=\"signature-modal-desc\" initial=\"hidden\" animate=\"visible\" exit=\"exit\" variants={modalVariants}>\r\n          <motion.div ref={modalRef} className=\"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative max-h-[90vh] overflow-y-auto\" tabIndex=\"-1\" initial={{ scale: 0.98, opacity: 0, y: 24 }} animate={{ scale: 1, opacity: 1, y: 0, transition: { duration: 0.22 } }} exit={{ scale: 0.98, opacity: 0, y: -24, transition: { duration: 0.18 } }}>\r\n            <motion.button className=\"absolute top-2 right-2 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-400 rounded\" onClick={onClose} aria-label=\"Close signature modal\" whileHover={{ scale: 1.1 }} whileTap={{ scale: 0.95 }}>&times;</motion.button>\r\n            <h2 id=\"signature-modal-title\" className=\"text-xl font-semibold mb-4\">Add Your Signature</h2>\r\n            <div id=\"signature-modal-desc\" className=\"sr-only\">Add your signature by drawing, typing, or uploading an image. Use the tabs to switch modes.</div>\r\n            <div className=\"flex space-x-2 mb-4\" role=\"tablist\" aria-label=\"Signature input modes\">\r\n              {[\r\n                { key: 'draw', label: 'Draw', icon: '✏️' },\r\n                { key: 'type', label: 'Type', icon: '⌨️' },\r\n                { key: 'upload', label: 'Upload', icon: '📁' }\r\n              ].map((tab) => (\r\n                <motion.button\r\n                  key={tab.key}\r\n                  className={`flex-1 py-3 px-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition-colors min-w-[44px] min-h-[44px] ${mode === tab.key ? 'bg-indigo-600 text-white shadow-md' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}\r\n                  onClick={() => setMode(tab.key)}\r\n                  aria-label={`${tab.label} signature`}\r\n                  aria-selected={mode === tab.key}\r\n                  aria-controls={`signature-tabpanel-${tab.key}`}\r\n                  role=\"tab\"\r\n                  tabIndex={0}\r\n                  title={tab.label}\r\n                  whileHover={{ scale: 1.05 }}\r\n                  whileTap={{ scale: 0.96 }}\r\n                >\r\n                  <div className=\"flex items-center justify-center space-x-1\">\r\n                    <span>{tab.icon}</span>\r\n                    <span className=\"text-sm font-medium\">{tab.label}</span>\r\n                  </div>\r\n                </motion.button>\r\n              ))}\r\n            </div>\r\n            {mode === 'draw' && (\r\n              <motion.div className=\"flex flex-col items-center\" id=\"signature-tabpanel-draw\" role=\"tabpanel\" aria-labelledby=\"signature-tab-draw\" initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.2 }}>\r\n                <div className=\"relative\">\r\n                  <canvas ref={canvasRef} width={400} height={100} className=\"border-2 border-gray-300 rounded-lg mb-3 cursor-crosshair bg-white focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 min-h-[44px] min-w-[200px]\" style={{ touchAction: 'none' }} tabIndex={0} aria-label=\"Draw your signature here\" title=\"Draw your signature here\" />\r\n                  <div className=\"absolute top-2 right-2 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded\">Draw here</div>\r\n                </div>\r\n                <div className=\"flex space-x-2 mb-2\">\r\n                  <motion.button className=\"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-400 rounded min-w-[44px] min-h-[44px]\" onClick={handleUndo} aria-label=\"Undo last stroke\" title=\"Undo\" whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>Undo</motion.button>\r\n                  <motion.button className=\"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-400 rounded min-w-[44px] min-h-[44px]\" onClick={handleClear} aria-label=\"Clear signature\" title=\"Clear\" whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>Clear</motion.button>\r\n                </div>\r\n                <div className=\"w-full flex flex-col items-center mt-2\">\r\n                  <span className=\"text-xs text-gray-500 mb-1\">Preview:</span>\r\n                  <div className=\"border rounded bg-gray-50 p-2 min-h-[60px] min-w-[200px] flex items-center justify-center\">\r\n                    {drawPreview ? (\r\n                      <img src={drawPreview} alt=\"Signature preview\" className=\"max-h-16 max-w-full\" />\r\n                    ) : (\r\n                      <span className=\"text-gray-400\">(Draw above to preview)</span>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n            {mode === 'type' && (\r\n              <motion.div className=\"flex flex-col items-center space-y-3\" id=\"signature-tabpanel-type\" role=\"tabpanel\" aria-labelledby=\"signature-tab-type\" initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.2 }}>\r\n                <label htmlFor=\"signature-type-name\" className=\"sr-only\">Type your name</label>\r\n                <input\r\n                  ref={inputRef}\r\n                  id=\"signature-type-name\"\r\n                  name=\"typedName\"\r\n                  type=\"text\"\r\n                  className=\"w-full border-2 border-gray-300 rounded-lg px-4 py-3 text-center text-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 min-h-[44px]\"\r\n                  placeholder=\"Type your name\"\r\n                  value={typedName}\r\n                  onChange={e => setTypedName(e.target.value)}\r\n                  maxLength={32}\r\n                  aria-label=\"Type your name\"\r\n                  title=\"Type your name\"\r\n                />\r\n                <div className=\"flex flex-wrap gap-2 justify-center\">{fonts.map(f => (\r\n                  <motion.button key={f.value} className={`px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition-colors min-w-[44px] min-h-[44px] ${typedFont === f.value ? 'bg-indigo-500 text-white shadow-md' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`} style={{ fontFamily: f.value }} onClick={() => setTypedFont(f.value)} aria-label={`Select font: ${f.label}`} title={f.label} whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.96 }}>{f.label}</motion.button>))}</div>\r\n                <div className=\"mt-4 p-4 border-2 border-gray-200 rounded-lg bg-gray-50 text-2xl min-h-[60px] flex items-center justify-center\" style={{ fontFamily: typedFont, minWidth: 300 }}>{typedName || 'Your Name'}</div>\r\n              </motion.div>\r\n            )}\r\n            {mode === 'upload' && (\r\n              <motion.div className=\"flex flex-col items-center\" id=\"signature-tabpanel-upload\" role=\"tabpanel\" aria-labelledby=\"signature-tab-upload\" initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.2 }}>\r\n                <div className=\"w-full\"><label className=\"block w-full p-4 border-2 border-dashed border-gray-300 rounded-lg text-center cursor-pointer hover:border-indigo-400 hover:bg-indigo-50 transition-colors min-h-[44px]\" title=\"Click to upload signature\"><input type=\"file\" accept=\".png,.jpg,.jpeg,.svg\" onChange={handleUpload} aria-label=\"Upload signature image\" className=\"hidden\" /><div className=\"space-y-2\"><svg className=\"w-8 h-8 mx-auto text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" /></svg><div><p className=\"text-sm font-medium text-gray-700\">Click to upload signature</p><p className=\"text-xs text-gray-500\">PNG, JPG, JPEG, SVG. Max 1MB.</p></div></div></label></div>\r\n                {uploadError && (<motion.div className=\"text-sm text-rose-500 mt-2 text-center\" initial={{ opacity: 0, y: -10 }} animate={{ opacity: 1, y: 0 }}>{uploadError}</motion.div>)}\r\n                {uploadUrl && (<motion.div className=\"mt-4 text-center\" initial={{ opacity: 0, scale: 0.9 }} animate={{ opacity: 1, scale: 1 }}><p className=\"text-sm text-gray-600 mb-2\">Preview:</p><img src={uploadUrl} alt=\"Signature preview\" className=\"max-h-24 mx-auto border rounded\" /></motion.div>)}\r\n              </motion.div>\r\n            )}\r\n            <div className=\"flex justify-end mt-6 space-x-3\">\r\n              <motion.button className=\"px-6 py-3 rounded-lg bg-gray-200 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition-colors min-w-[44px] min-h-[44px]\" onClick={onClose} aria-label=\"Cancel signature input\" title=\"Cancel\" whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.96 }}>Cancel</motion.button>\r\n              <motion.button className=\"px-6 py-3 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-indigo-400 transition-colors min-w-[44px] min-h-[44px]\" onClick={handleSave} disabled={!canSave()} aria-label=\"Save signature\" title=\"Save signature\" whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.96 }}>Save Signature</motion.button>\r\n            </div>\r\n          </motion.div>\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport default SignatureInputModal; ","import React, { useState, useRef, useEffect } from 'react';\r\nimport { Document, Page, pdfjs } from 'react-pdf';\r\n\r\n// Use a more reliable CDN for the PDF.js worker\r\nconst pdfjsVersion = '3.11.174'; // Explicitly set the version for consistency\r\npdfjs.GlobalWorkerOptions.workerSrc = `https://unpkg.com/pdfjs-dist@${pdfjsVersion}/build/pdf.worker.min.js`;\r\n\r\n// Add error boundary for PDF rendering\r\nclass ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    console.error('PDF Rendering Error:', error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <div className=\"p-4 bg-red-50 border border-red-200 rounded\">\r\n          <p className=\"text-red-600\">Error loading PDF. Please try refreshing the page.</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nconst fallbackPdfUrl = 'https://cdn.syncfusion.com/content/pdf/pdf-succinctly.pdf';\r\n\r\nfunction blobToHex(blob, cb) {\r\n  const reader = new FileReader();\r\n  reader.onload = function(e) {\r\n    const arr = new Uint8Array(e.target.result);\r\n    cb(Array.from(arr).slice(0, 20).map(b => b.toString(16).padStart(2, '0')).join(' '));\r\n  };\r\n  reader.readAsArrayBuffer(blob);\r\n}\r\n\r\nfunction base64ToBlob(base64, type = 'application/pdf') {\r\n  const byteCharacters = atob(base64);\r\n  const byteNumbers = new Array(byteCharacters.length);\r\n  for (let i = 0; i < byteCharacters.length; i++) {\r\n    byteNumbers[i] = byteCharacters.charCodeAt(i);\r\n  }\r\n  const byteArray = new Uint8Array(byteNumbers);\r\n  return new Blob([byteArray], { type });\r\n}\r\n\r\nconst PDFRenderer = ({ file, base64, onPageChange, initialPage = 1, signatureFields = [], onPageClick, onUpdateField, onRemoveField }) => {\r\n  const [numPages, setNumPages] = useState(null);\r\n  const [pageNumber, setPageNumber] = useState(initialPage);\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [pageDims, setPageDims] = useState({ width: 900, height: 1200 });\r\n  const pageContainerRef = useRef();\r\n  const dragFieldRef = useRef(null);\r\n  const dragOffsetRef = useRef({ x: 0, y: 0 });\r\n  const [objectUrl, setObjectUrl] = useState(null);\r\n  const [blobHex, setBlobHex] = useState('');\r\n  const [downloadUrl, setDownloadUrl] = useState(null);\r\n  const [pdfBlob, setPdfBlob] = useState(null);\r\n\r\n  // Handle blob URLs or file objects\r\n  useEffect(() => {\r\n    const processFile = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n        \r\n        if (typeof file === 'string' && file.startsWith('blob:')) {\r\n          // Handle blob URL\r\n          console.log('Processing blob URL:', file);\r\n          try {\r\n            const response = await fetch(file);\r\n            if (!response.ok) throw new Error(`Failed to fetch blob: ${response.status}`);\r\n            const blob = await response.blob();\r\n            setPdfBlob(blob);\r\n            \r\n            // Create object URL for react-pdf\r\n            const url = URL.createObjectURL(blob);\r\n            setObjectUrl(url);\r\n            setDownloadUrl(url);\r\n            \r\n            // Debug: Log blob info\r\n            console.log('Blob info:', {\r\n              size: blob.size,\r\n              type: blob.type,\r\n              url: url\r\n            });\r\n            \r\n            blobToHex(blob, setBlobHex);\r\n          } catch (err) {\r\n            console.error('Error processing blob URL:', err);\r\n            setError(`Error loading PDF: ${err.message}`);\r\n          }\r\n        } else if (file instanceof Blob) {\r\n          // Handle Blob object directly\r\n          console.log('Processing Blob object:', file);\r\n          const url = URL.createObjectURL(file);\r\n          setObjectUrl(url);\r\n          setDownloadUrl(url);\r\n          setPdfBlob(file);\r\n          blobToHex(file, setBlobHex);\r\n        } else if (base64) {\r\n          // Handle base64 string\r\n          console.log('Processing base64 PDF');\r\n          const blob = base64ToBlob(base64);\r\n          const url = URL.createObjectURL(blob);\r\n          setObjectUrl(url);\r\n          setDownloadUrl(url);\r\n          setPdfBlob(blob);\r\n          blobToHex(blob, setBlobHex);\r\n        } else {\r\n          console.log('No valid file provided, using fallback');\r\n        }\r\n      } catch (err) {\r\n        console.error('Error in processFile:', err);\r\n        setError(`Failed to process PDF: ${err.message}`);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    processFile();\r\n\r\n    // Cleanup\r\n    return () => {\r\n      if (objectUrl) {\r\n        console.log('Cleaning up object URL:', objectUrl);\r\n        URL.revokeObjectURL(objectUrl);\r\n      }\r\n    };\r\n  }, [file, base64]);\r\n\r\n  // Debug effect\r\n  useEffect(() => {\r\n    console.log('PDFRenderer - State update:', {\r\n      file,\r\n      objectUrl,\r\n      pdfBlob,\r\n      loading,\r\n      error,\r\n      'pdfjs.version': pdfjs.version\r\n    });\r\n  }, [file, objectUrl, pdfBlob, loading, error]);\r\n\r\n  // Always use a string for file prop\r\n  const pdfFileToUse = objectUrl || (typeof file === 'string' ? file : fallbackPdfUrl);\r\n\r\n  useEffect(() => {\r\n    setPageNumber(initialPage);\r\n  }, [initialPage]);\r\n\r\n  useEffect(() => {\r\n    console.log('PDFRenderer - Current file:', file);\r\n    console.log('PDFRenderer - Object URL:', objectUrl);\r\n    console.log('PDFRenderer - PDF.js version:', pdfjs.version);\r\n  }, [file, objectUrl]);\r\n\r\n  const handleLoadSuccess = ({ numPages }) => {\r\n    console.log('[PDFRenderer] onLoadSuccess, numPages:', numPages);\r\n    setNumPages(numPages);\r\n    setLoading(false);\r\n    setError(null);\r\n    if (onPageChange) onPageChange(pageNumber);\r\n  };\r\n\r\n  const handleLoadError = (err) => {\r\n    console.error('[PDFRenderer] onLoadError:', err);\r\n    setError(err.message || 'Failed to load PDF');\r\n    setLoading(false);\r\n  };\r\n\r\n  const handlePageClick = (e) => {\r\n    if (!onPageClick) return;\r\n    const rect = pageContainerRef.current.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n    onPageClick(pageNumber, x, y, pageDims);\r\n  };\r\n\r\n  const handlePageRenderSuccess = (page) => {\r\n    const viewport = page.getViewport({ scale: 1 });\r\n    setPageDims({ width: viewport.width, height: viewport.height });\r\n  };\r\n\r\n  const handleDragStart = (e, field) => {\r\n    e.stopPropagation();\r\n    dragFieldRef.current = field.id;\r\n    const rect = pageContainerRef.current.getBoundingClientRect();\r\n    dragOffsetRef.current = {\r\n      x: e.clientX - (rect.left + field.x),\r\n      y: e.clientY - (rect.top + field.y),\r\n    };\r\n    window.addEventListener('mousemove', handleDragMove);\r\n    window.addEventListener('mouseup', handleDragEnd);\r\n  };\r\n\r\n  const handleDragMove = (e) => {\r\n    if (!dragFieldRef.current || !onUpdateField) return;\r\n    const rect = pageContainerRef.current.getBoundingClientRect();\r\n    const x = e.clientX - rect.left - dragOffsetRef.current.x;\r\n    const y = e.clientY - rect.top - dragOffsetRef.current.y;\r\n    onUpdateField(dragFieldRef.current, { x, y });\r\n  };\r\n\r\n  const handleDragEnd = () => {\r\n    dragFieldRef.current = null;\r\n    window.removeEventListener('mousemove', handleDragMove);\r\n    window.removeEventListener('mouseup', handleDragEnd);\r\n  };\r\n\r\n  return (\r\n    <ErrorBoundary>\r\n      <div className=\"flex flex-col h-full w-full\">\r\n        {/* Navigation Toolbar removed, parent handles navigation */}\r\n        {/* PDF Viewer */}\r\n        <div className=\"flex-1 min-h-0 overflow-auto flex justify-center items-start bg-gray-50\">\r\n          <div className=\"w-full max-w-5xl flex flex-col items-center relative m-auto\">\r\n            {/* Debug info */}\r\n            {file instanceof Blob && (\r\n              <div className=\"text-xs text-gray-500 mb-2\">\r\n                <div>Blob size: {file.size} bytes</div>\r\n                <div>Blob type: {file.type}</div>\r\n                <div>First 20 bytes (hex): {blobHex}</div>\r\n                {downloadUrl && (\r\n                  <a href={downloadUrl} download=\"debug.pdf\" className=\"ml-2 px-2 py-1 bg-blue-100 rounded\">Download Blob</a>\r\n                )}\r\n              </div>\r\n            )}\r\n            {loading && (\r\n              <div className=\"flex items-center justify-center h-64\">\r\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-3\"></div>\r\n                <span>Loading PDF...</span>\r\n                <div className=\"text-xs text-gray-400 mt-2\">{typeof pdfFileToUse === 'string' ? pdfFileToUse : '[Blob] PDF'}</div>\r\n              </div>\r\n            )}\r\n            {error && (\r\n              <div className=\"text-red-500 p-4 border border-red-200 rounded text-center\">\r\n                <p><strong>Error:</strong> {error}</p>\r\n                <div className=\"text-xs text-gray-400 mt-2\">File: {String(pdfFileToUse)}</div>\r\n                {downloadUrl && (\r\n                  <a href={downloadUrl} download=\"debug.pdf\" className=\"ml-2 px-2 py-1 bg-blue-100 rounded\">Download Blob</a>\r\n                )}\r\n              </div>\r\n            )}\r\n            {!error && !loading && (\r\n              <div\r\n                ref={pageContainerRef}\r\n                className=\"relative my-8\"\r\n                style={{ width: pageDims.width, height: pageDims.height, cursor: onPageClick ? 'crosshair' : 'default' }}\r\n                onClick={handlePageClick}\r\n              >\r\n                <Document\r\n                  file={pdfFileToUse}\r\n                  onLoadSuccess={handleLoadSuccess}\r\n                  onLoadError={handleLoadError}\r\n                  error={<div className=\"text-red-500\">Failed to load PDF.</div>}\r\n                  loading={null}\r\n                >\r\n                  <Page\r\n                    pageNumber={pageNumber}\r\n                    width={900}\r\n                    renderAnnotationLayer={false}\r\n                    renderTextLayer={false}\r\n                    onRenderSuccess={handlePageRenderSuccess}\r\n                  />\r\n                </Document>\r\n                {/* Signature overlays for current page only */}\r\n                {signatureFields.filter(f => f.page === pageNumber).map((field, idx) => (\r\n                  <div\r\n                    key={field.id || idx}\r\n                    className=\"absolute border-2 border-indigo-500 bg-white bg-opacity-80 rounded shadow-md flex items-center justify-center cursor-move group\"\r\n                    style={{\r\n                      left: field.x - (field.width || 90) / 2,\r\n                      top: field.y - (field.height || 30) / 2,\r\n                      width: field.width || 180,\r\n                      height: field.height || 60,\r\n                      zIndex: 10,\r\n                      pointerEvents: 'auto',\r\n                      userSelect: 'none',\r\n                    }}\r\n                    onMouseDown={e => handleDragStart(e, field)}\r\n                  >\r\n                    <span className=\"text-indigo-700 font-bold select-none\">Sign</span>\r\n                    {onRemoveField && (\r\n                      <button\r\n                        className=\"absolute top-0 right-0 m-1 w-5 h-5 rounded-full bg-red-500 text-white text-xs flex items-center justify-center opacity-80 hover:opacity-100 group-hover:opacity-100\"\r\n                        style={{ zIndex: 20 }}\r\n                        onClick={e => { e.stopPropagation(); onRemoveField(field.id); }}\r\n                        aria-label=\"Remove signature field\"\r\n                      >\r\n                        ×\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </ErrorBoundary>\r\n  );\r\n};\r\n\r\nexport default PDFRenderer;"],"names":["fonts","label","value","modalVariants","hidden","opacity","scale","y","visible","transition","duration","ease","exit","_ref","open","onClose","onSave","mode","setMode","useState","typedName","setTypedName","typedFont","setTypedFont","uploadUrl","setUploadUrl","canvasRef","useRef","signaturePadRef","modalRef","inputRef","uploadError","setUploadError","drawPreview","setDrawPreview","isPadEmpty","setIsPadEmpty","useEffect","current","off","SignaturePad","backgroundColor","penColor","minWidth","maxWidth","throttle","onEnd","updateDrawPreview","updateOnPointerUp","addEventListener","removeEventListener","setTimeout","focus","handleKeyDown","e","key","focusable","querySelectorAll","first","last","length","shiftKey","document","activeElement","preventDefault","empty","isEmpty","toDataURL","_jsx","AnimatePresence","children","motion","div","className","role","initial","animate","variants","_jsxs","ref","tabIndex","button","onClick","whileHover","whileTap","id","icon","map","tab","concat","title","width","height","style","touchAction","handleUndo","data","toData","pop","fromData","handleClear","clear","src","alt","htmlFor","name","type","placeholder","onChange","target","maxLength","f","fontFamily","accept","file","files","includes","size","reader","FileReader","onload","ev","result","readAsDataURL","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","handleSave","dataUrl","trim","canvas","createElement","ctx","getContext","fillStyle","fillRect","font","textBaseline","textAlign","fillText","disabled","pdfjs","GlobalWorkerOptions","workerSrc","ErrorBoundary","React","constructor","props","super","this","state","hasError","getDerivedStateFromError","error","componentDidCatch","errorInfo","console","render","blobToHex","blob","cb","arr","Uint8Array","Array","from","slice","b","toString","padStart","join","readAsArrayBuffer","base64","onPageChange","initialPage","signatureFields","onPageClick","onUpdateField","onRemoveField","numPages","setNumPages","pageNumber","setPageNumber","setError","loading","setLoading","pageDims","setPageDims","pageContainerRef","dragFieldRef","dragOffsetRef","x","objectUrl","setObjectUrl","blobHex","setBlobHex","downloadUrl","setDownloadUrl","pdfBlob","setPdfBlob","async","startsWith","log","response","fetch","ok","Error","status","url","URL","createObjectURL","err","message","Blob","arguments","undefined","byteCharacters","atob","byteNumbers","i","charCodeAt","byteArray","base64ToBlob","processFile","revokeObjectURL","version","pdfFileToUse","handleDragMove","rect","getBoundingClientRect","clientX","left","clientY","top","handleDragEnd","window","href","download","String","cursor","Document","onLoadSuccess","_ref2","onLoadError","Page","renderAnnotationLayer","renderTextLayer","onRenderSuccess","page","viewport","getViewport","filter","field","idx","zIndex","pointerEvents","userSelect","onMouseDown","handleDragStart","stopPropagation"],"sourceRoot":""}