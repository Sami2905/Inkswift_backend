{"ast":null,"code":"import{useState,useRef}from'react';import{useAuth,api}from'../context/AuthContext';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PDFViewer=()=>{// State\nconst[pdfUrl,setPdfUrl]=useState('');const[pdfFile,setPdfFile]=useState(null);const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState(null);const[showUpload,setShowUpload]=useState(false);const[uploadProgress,setUploadProgress]=useState(0);const[currentPage,setCurrentPage]=useState(1);const[zoom,setZoom]=useState(1);const[uploadedDoc,setUploadedDoc]=useState(null);const[pdfBlobUrl,setPdfBlobUrl]=useState(null);// Auth\nconst{token}=useAuth();// Refs\nconst fileInputRef=useRef(null);const pdfViewerRef=useRef(null);// Helper functions\nconst isValidUrl=url=>{try{new URL(url);return true;}catch(_){return /^(https?:\\/\\/)?([\\w.-]+)(:\\d+)?(\\/.*)?$/i.test(url);}};const formatFileSize=bytes=>{if(bytes===0)return'0 Bytes';const k=1024;const sizes=['Bytes','KB','MB','GB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(2))+' '+sizes[i];};// Event handlers\nconst handleLoadUrl=()=>{if(!pdfUrl.trim()){setError({title:'Missing URL',message:'Please enter a PDF URL to load.'});return;}if(!isValidUrl(pdfUrl)){setError({title:'Invalid URL',message:'Please enter a valid URL starting with http:// or https://'});return;}setIsLoading(true);setError(null);// Handle local development URLs\nlet processedUrl=pdfUrl;if(processedUrl.includes('192.168.56.1')||processedUrl.includes('localhost')||processedUrl.includes('127.0.0.1')){if(!processedUrl.startsWith('https://192.168.56.1:3000/')){processedUrl=processedUrl.replace('192.168.56.1','192.168.56.1:3000');}}// Add to iframe\nif(pdfViewerRef.current){pdfViewerRef.current.src=\"\".concat(processedUrl,\"#zoom=\").concat(zoom*100);}};const handleFileChange=e=>{const file=e.target.files[0];if(!file)return;if(file.type!=='application/pdf'){setError({title:'Invalid File',message:'Please upload a valid PDF file.'});return;}setPdfFile(file);uploadPdfFile(file);};const uploadPdfFile=async file=>{setUploadProgress(0);setIsLoading(true);setError(null);setUploadedDoc(null);setPdfBlobUrl(null);const formData=new FormData();formData.append('file',file);try{const response=await api.post('/api/docs/upload',formData,{headers:{'Content-Type':'multipart/form-data',Authorization:\"Bearer \".concat(token)},onUploadProgress:progressEvent=>{const percent=Math.round(progressEvent.loaded*100/progressEvent.total);setUploadProgress(percent);}});setIsLoading(false);setUploadProgress(100);setUploadedDoc(response.data.document);toast.success('PDF uploaded successfully!');// Fetch the uploaded PDF as a blob and preview it\nfetchPdfBlob(response.data.document._id);}catch(err){var _err$response,_err$response$data;setIsLoading(false);setUploadProgress(0);setError({title:'Upload Failed',message:((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to upload PDF.'});toast.error('Failed to upload PDF.');}};const fetchPdfBlob=async docId=>{setIsLoading(true);setPdfBlobUrl(null);try{const res=await api.get(\"/api/docs/\".concat(docId,\"/download\"),{responseType:'blob',headers:{Authorization:\"Bearer \".concat(token)}});const blobUrl=URL.createObjectURL(res.data);setPdfBlobUrl(blobUrl);setIsLoading(false);}catch(err){setIsLoading(false);// Enhanced error logging\nif(err.response){console.error('PDF fetch error:',err.response.status,err.response.statusText,err.response.data);setError({title:\"Load Failed (\".concat(err.response.status,\")\"),message:err.response.statusText||'Failed to load PDF from server.'});}else{console.error('PDF fetch error:',err);setError({title:'Load Failed',message:'Failed to load PDF from server.'});}}};const handleDrop=e=>{e.preventDefault();e.stopPropagation();const file=e.dataTransfer.files[0];if(file&&file.type==='application/pdf'){setPdfFile(file);uploadPdfFile(file);}else{setError({title:'Invalid File',message:'Please upload a valid PDF file.'});}};const handleDrag=e=>{e.preventDefault();e.stopPropagation();};// Render\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 min-h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8 max-w-6xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-indigo-700 mb-2\",children:\"PDF Viewer\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Upload or enter URL to view PDF documents\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-md overflow-hidden mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"pdf-url\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"PDF URL\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"pdf-url\",placeholder:\"Enter PDF URL\",value:pdfUrl,onChange:e=>setPdfUrl(e.target.value),className:\"flex-1 px-4 py-2 border border-gray-300 rounded-l-md focus:ring-indigo-500 focus:border-indigo-500\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleLoadUrl,className:\"px-4 py-2 bg-indigo-600 text-white rounded-r-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search mr-1\"}),\" Load\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowUpload(!showUpload),className:\"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-upload mr-1\"}),\" Upload PDF\"]})})]}),showUpload&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"dropzone\",className:\"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer \".concat(pdfFile?'border-indigo-500 bg-indigo-50':'border-gray-300'),onDrop:handleDrop,onDragOver:handleDrag,onDragEnter:handleDrag,onDragLeave:handleDrag,onClick:()=>fileInputRef.current.click(),children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:fileInputRef,id:\"pdf-file\",accept:\".pdf\",className:\"hidden\",onChange:handleFileChange}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-pdf text-4xl text-indigo-500 mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-2\",children:\"Drag & drop your PDF file here\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-4\",children:\"or\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 cursor-pointer\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-folder-open mr-1\"}),\" Browse Files\"]})]})]}),uploadProgress>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-indigo-700\",children:\"Uploading...\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-indigo-700\",children:[Math.round(uploadProgress),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2.5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-indigo-600 h-2.5 rounded-full transition-all duration-300\",style:{width:\"\".concat(uploadProgress,\"%\")}})})]})]})]})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-circle text-red-500 text-xl\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-red-800\",children:error.title}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-sm text-red-700\",children:/*#__PURE__*/_jsx(\"p\",{children:error.message})})]})]})}),isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center p-12 bg-gray-50 rounded-xl mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin text-indigo-600 text-5xl mb-4\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:uploadProgress<100?'Uploading PDF document...':'Processing PDF...'})]}),pdfFile||pdfUrl||uploadedDoc?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-md overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between bg-gray-50 px-4 py-3 border-b\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-800 truncate\",children:(uploadedDoc===null||uploadedDoc===void 0?void 0:uploadedDoc.originalName)||(pdfFile===null||pdfFile===void 0?void 0:pdfFile.name)||pdfUrl.split('/').pop()||'document.pdf'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setZoom(prev=>Math.min(prev+0.25,3)),className:\"p-2 text-gray-600 hover:text-indigo-600 hover:bg-gray-100 rounded\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search-plus\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setZoom(prev=>Math.max(prev-0.25,0.5)),className:\"p-2 text-gray-600 hover:text-indigo-600 hover:bg-gray-100 rounded\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search-minus\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(uploadedDoc){window.open(\"/api/docs/\".concat(uploadedDoc._id,\"/download\"),'_blank');}else if(pdfFile){alert(\"Download would start for: \".concat(pdfFile.name));}else if(pdfUrl){alert(\"Download would start from URL: \".concat(pdfUrl));}},className:\"p-2 text-gray-600 hover:text-indigo-600 hover:bg-gray-100 rounded\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-download\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"relative overflow-hidden pt-[56.25%]\",children:/*#__PURE__*/_jsx(\"iframe\",{ref:pdfViewerRef,className:\"absolute top-0 left-0 w-full h-full border-none\",title:\"PDF Viewer\",src:pdfBlobUrl||undefined,onLoad:()=>setIsLoading(false),onError:()=>{setIsLoading(false);setError({title:'Load Failed',message:\"Failed to load PDF. Please check the URL or file and try again.\"});}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 px-4 py-3 border-t flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(prev=>Math.max(prev-1,1)),disabled:currentPage<=1,className:\"p-2 text-gray-600 hover:text-indigo-600 hover:bg-gray-100 rounded disabled:opacity-50\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chevron-left\"})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[\"Page \",currentPage,\" of 5 \"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(prev=>Math.min(prev+1,5)),disabled:currentPage>=5,className:\"p-2 text-gray-600 hover:text-indigo-600 hover:bg-gray-100 rounded disabled:opacity-50\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chevron-right\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:uploadedDoc?formatFileSize(uploadedDoc.fileSize):pdfFile?formatFileSize(pdfFile.size):'Loading...'})]})]}):null]})});};export default PDFViewer;","map":{"version":3,"names":["useState","useRef","useAuth","api","toast","jsx","_jsx","jsxs","_jsxs","PDFViewer","pdfUrl","setPdfUrl","pdfFile","setPdfFile","isLoading","setIsLoading","error","setError","showUpload","setShowUpload","uploadProgress","setUploadProgress","currentPage","setCurrentPage","zoom","setZoom","uploadedDoc","setUploadedDoc","pdfBlobUrl","setPdfBlobUrl","token","fileInputRef","pdfViewerRef","isValidUrl","url","URL","_","test","formatFileSize","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","handleLoadUrl","trim","title","message","processedUrl","includes","startsWith","replace","current","src","concat","handleFileChange","e","file","target","files","type","uploadPdfFile","formData","FormData","append","response","post","headers","Authorization","onUploadProgress","progressEvent","percent","round","loaded","total","data","document","success","fetchPdfBlob","_id","err","_err$response","_err$response$data","docId","res","get","responseType","blobUrl","createObjectURL","console","status","statusText","handleDrop","preventDefault","stopPropagation","dataTransfer","handleDrag","className","children","htmlFor","id","placeholder","value","onChange","onClick","onDrop","onDragOver","onDragEnter","onDragLeave","click","ref","accept","style","width","originalName","name","split","pop","prev","min","max","window","open","alert","undefined","onLoad","onError","disabled","fileSize","size"],"sources":["D:/Doc Sign/client/src/components/PDFViewer.jsx"],"sourcesContent":["import { useState, useRef } from 'react';\r\nimport { useAuth, api } from '../context/AuthContext';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst PDFViewer = () => {\r\n  // State\r\n  const [pdfUrl, setPdfUrl] = useState('');\r\n  const [pdfFile, setPdfFile] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [showUpload, setShowUpload] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [zoom, setZoom] = useState(1);\r\n  const [uploadedDoc, setUploadedDoc] = useState(null);\r\n  const [pdfBlobUrl, setPdfBlobUrl] = useState(null);\r\n\r\n  // Auth\r\n  const { token } = useAuth();\r\n\r\n  // Refs\r\n  const fileInputRef = useRef(null);\r\n  const pdfViewerRef = useRef(null);\r\n\r\n  // Helper functions\r\n  const isValidUrl = (url) => {\r\n    try {\r\n      new URL(url);\r\n      return true;\r\n    } catch (_) {\r\n      return /^(https?:\\/\\/)?([\\w.-]+)(:\\d+)?(\\/.*)?$/i.test(url);\r\n    }\r\n  };\r\n\r\n  const formatFileSize = (bytes) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  // Event handlers\r\n  const handleLoadUrl = () => {\r\n    if (!pdfUrl.trim()) {\r\n      setError({ title: 'Missing URL', message: 'Please enter a PDF URL to load.' });\r\n      return;\r\n    }\r\n\r\n    if (!isValidUrl(pdfUrl)) {\r\n      setError({ title: 'Invalid URL', message: 'Please enter a valid URL starting with http:// or https://' });\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    // Handle local development URLs\r\n    let processedUrl = pdfUrl;\r\n    if (processedUrl.includes('192.168.56.1') || processedUrl.includes('localhost') || processedUrl.includes('127.0.0.1')) {\r\n      if (!processedUrl.startsWith('https://192.168.56.1:3000/')) {\r\n        processedUrl = processedUrl.replace('192.168.56.1', '192.168.56.1:3000');\r\n      }\r\n    }\r\n\r\n    // Add to iframe\r\n    if (pdfViewerRef.current) {\r\n      pdfViewerRef.current.src = `${processedUrl}#zoom=${zoom * 100}`;\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    if (file.type !== 'application/pdf') {\r\n      setError({ title: 'Invalid File', message: 'Please upload a valid PDF file.' });\r\n      return;\r\n    }\r\n\r\n    setPdfFile(file);\r\n    uploadPdfFile(file);\r\n  };\r\n\r\n  const uploadPdfFile = async (file) => {\r\n    setUploadProgress(0);\r\n    setIsLoading(true);\r\n    setError(null);\r\n    setUploadedDoc(null);\r\n    setPdfBlobUrl(null);\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    try {\r\n      const response = await api.post('/api/docs/upload', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        onUploadProgress: (progressEvent) => {\r\n          const percent = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n          setUploadProgress(percent);\r\n        },\r\n      });\r\n      setIsLoading(false);\r\n      setUploadProgress(100);\r\n      setUploadedDoc(response.data.document);\r\n      toast.success('PDF uploaded successfully!');\r\n      // Fetch the uploaded PDF as a blob and preview it\r\n      fetchPdfBlob(response.data.document._id);\r\n    } catch (err) {\r\n      setIsLoading(false);\r\n      setUploadProgress(0);\r\n      setError({ title: 'Upload Failed', message: err.response?.data?.message || 'Failed to upload PDF.' });\r\n      toast.error('Failed to upload PDF.');\r\n    }\r\n  };\r\n\r\n  const fetchPdfBlob = async (docId) => {\r\n    setIsLoading(true);\r\n    setPdfBlobUrl(null);\r\n    try {\r\n      const res = await api.get(`/api/docs/${docId}/download`, {\r\n        responseType: 'blob',\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      const blobUrl = URL.createObjectURL(res.data);\r\n      setPdfBlobUrl(blobUrl);\r\n      setIsLoading(false);\r\n    } catch (err) {\r\n      setIsLoading(false);\r\n      // Enhanced error logging\r\n      if (err.response) {\r\n        console.error('PDF fetch error:', err.response.status, err.response.statusText, err.response.data);\r\n        setError({ title: `Load Failed (${err.response.status})`, message: err.response.statusText || 'Failed to load PDF from server.' });\r\n      } else {\r\n        console.error('PDF fetch error:', err);\r\n        setError({ title: 'Load Failed', message: 'Failed to load PDF from server.' });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDrop = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    \r\n    const file = e.dataTransfer.files[0];\r\n    if (file && file.type === 'application/pdf') {\r\n      setPdfFile(file);\r\n      uploadPdfFile(file);\r\n    } else {\r\n      setError({ title: 'Invalid File', message: 'Please upload a valid PDF file.' });\r\n    }\r\n  };\r\n\r\n  const handleDrag = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  };\r\n\r\n  // Render\r\n  return (\r\n    <div className=\"bg-gray-50 min-h-screen\">\r\n      <div className=\"container mx-auto px-4 py-8 max-w-6xl\">\r\n        {/* Header */}\r\n        <div className=\"text-center mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-indigo-700 mb-2\">PDF Viewer</h1>\r\n          <p className=\"text-gray-600\">Upload or enter URL to view PDF documents</p>\r\n        </div>\r\n        \r\n        {/* Input Section */}\r\n        <div className=\"bg-white rounded-xl shadow-md overflow-hidden mb-8\">\r\n          <div className=\"p-6\">\r\n            <div className=\"flex flex-col md:flex-row gap-4\">\r\n              <div className=\"flex-1\">\r\n                <label htmlFor=\"pdf-url\" className=\"block text-sm font-medium text-gray-700 mb-1\">PDF URL</label>\r\n                <div className=\"flex\">\r\n                  <input \r\n                    type=\"text\" \r\n                    id=\"pdf-url\" \r\n                    placeholder=\"Enter PDF URL\"\r\n                    value={pdfUrl}\r\n                    onChange={(e) => setPdfUrl(e.target.value)}\r\n                    className=\"flex-1 px-4 py-2 border border-gray-300 rounded-l-md focus:ring-indigo-500 focus:border-indigo-500\"\r\n                  />\r\n                  <button \r\n                    onClick={handleLoadUrl}\r\n                    className=\"px-4 py-2 bg-indigo-600 text-white rounded-r-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                  >\r\n                    <i className=\"fas fa-search mr-1\"></i> Load\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-end\">\r\n                <button \r\n                  onClick={() => setShowUpload(!showUpload)}\r\n                  className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500\"\r\n                >\r\n                  <i className=\"fas fa-upload mr-1\"></i> Upload PDF\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Upload Section */}\r\n            {showUpload && (\r\n              <div className=\"mt-4\">\r\n                <div \r\n                  id=\"dropzone\" \r\n                  className={`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer ${pdfFile ? 'border-indigo-500 bg-indigo-50' : 'border-gray-300'}`}\r\n                  onDrop={handleDrop}\r\n                  onDragOver={handleDrag}\r\n                  onDragEnter={handleDrag}\r\n                  onDragLeave={handleDrag}\r\n                  onClick={() => fileInputRef.current.click()}\r\n                >\r\n                  <input \r\n                    type=\"file\" \r\n                    ref={fileInputRef}\r\n                    id=\"pdf-file\" \r\n                    accept=\".pdf\" \r\n                    className=\"hidden\" \r\n                    onChange={handleFileChange}\r\n                  />\r\n                  <div className=\"flex flex-col items-center justify-center\">\r\n                    <i className=\"fas fa-file-pdf text-4xl text-indigo-500 mb-3\"></i>\r\n                    <p className=\"text-gray-600 mb-2\">Drag & drop your PDF file here</p>\r\n                    <p className=\"text-sm text-gray-500 mb-4\">or</p>\r\n                    <div className=\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 cursor-pointer\">\r\n                      <i className=\"fas fa-folder-open mr-1\"></i> Browse Files\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {uploadProgress > 0 && (\r\n                  <div className=\"mt-4\">\r\n                    <div className=\"flex justify-between mb-1\">\r\n                      <span className=\"text-sm font-medium text-indigo-700\">Uploading...</span>\r\n                      <span className=\"text-sm font-medium text-indigo-700\">{Math.round(uploadProgress)}%</span>\r\n                    </div>\r\n                    <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\r\n                      <div \r\n                        className=\"bg-indigo-600 h-2.5 rounded-full transition-all duration-300\" \r\n                        style={{ width: `${uploadProgress}%` }}\r\n                      ></div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Error Message */}\r\n        {error && (\r\n          <div className=\"bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded\">\r\n            <div className=\"flex\">\r\n              <div className=\"flex-shrink-0\">\r\n                <i className=\"fas fa-exclamation-circle text-red-500 text-xl\"></i>\r\n              </div>\r\n              <div className=\"ml-3\">\r\n                <h3 className=\"text-sm font-medium text-red-800\">{error.title}</h3>\r\n                <div className=\"mt-2 text-sm text-red-700\">\r\n                  <p>{error.message}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        {/* Loading Indicator */}\r\n        {isLoading && (\r\n          <div className=\"flex flex-col items-center justify-center p-12 bg-gray-50 rounded-xl mb-6\">\r\n            <div className=\"animate-spin text-indigo-600 text-5xl mb-4\">\r\n              <i className=\"fas fa-spinner\"></i>\r\n            </div>\r\n            <p className=\"text-gray-600\">{uploadProgress < 100 ? 'Uploading PDF document...' : 'Processing PDF...'}</p>\r\n          </div>\r\n        )}\r\n        \r\n        {/* PDF Viewer */}\r\n        {(pdfFile || pdfUrl || uploadedDoc) ? (\r\n          <div className=\"bg-white rounded-xl shadow-md overflow-hidden\">\r\n            <div className=\"flex items-center justify-between bg-gray-50 px-4 py-3 border-b\">\r\n              <h2 className=\"text-lg font-medium text-gray-800 truncate\">\r\n                {uploadedDoc?.originalName || pdfFile?.name || pdfUrl.split('/').pop() || 'document.pdf'}\r\n              </h2>\r\n              <div className=\"flex gap-2\">\r\n                <button \r\n                  onClick={() => setZoom(prev => Math.min(prev + 0.25, 3))}\r\n                  className=\"p-2 text-gray-600 hover:text-indigo-600 hover:bg-gray-100 rounded\"\r\n                >\r\n                  <i className=\"fas fa-search-plus\"></i>\r\n                </button>\r\n                <button \r\n                  onClick={() => setZoom(prev => Math.max(prev - 0.25, 0.5))}\r\n                  className=\"p-2 text-gray-600 hover:text-indigo-600 hover:bg-gray-100 rounded\"\r\n                >\r\n                  <i className=\"fas fa-search-minus\"></i>\r\n                </button>\r\n                <button \r\n                  onClick={() => {\r\n                    if (uploadedDoc) {\r\n                      window.open(`/api/docs/${uploadedDoc._id}/download`, '_blank');\r\n                    } else if (pdfFile) {\r\n                      alert(`Download would start for: ${pdfFile.name}`);\r\n                    } else if (pdfUrl) {\r\n                      alert(`Download would start from URL: ${pdfUrl}`);\r\n                    }\r\n                  }}\r\n                  className=\"p-2 text-gray-600 hover:text-indigo-600 hover:bg-gray-100 rounded\"\r\n                >\r\n                  <i className=\"fas fa-download\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"relative overflow-hidden pt-[56.25%]\">\r\n              <iframe \r\n                ref={pdfViewerRef}\r\n                className=\"absolute top-0 left-0 w-full h-full border-none\"\r\n                title=\"PDF Viewer\"\r\n                src={pdfBlobUrl || undefined}\r\n                onLoad={() => setIsLoading(false)}\r\n                onError={() => {\r\n                  setIsLoading(false);\r\n                  setError({ \r\n                    title: 'Load Failed', \r\n                    message: `Failed to load PDF. Please check the URL or file and try again.` \r\n                  });\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"bg-gray-50 px-4 py-3 border-t flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-4\">\r\n                <button \r\n                  onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}\r\n                  disabled={currentPage <= 1}\r\n                  className=\"p-2 text-gray-600 hover:text-indigo-600 hover:bg-gray-100 rounded disabled:opacity-50\"\r\n                >\r\n                  <i className=\"fas fa-chevron-left\"></i>\r\n                </button>\r\n                <span className=\"text-sm text-gray-600\">\r\n                  Page {currentPage} of 5 {/* In real app, get total pages */}\r\n                </span>\r\n                <button \r\n                  onClick={() => setCurrentPage(prev => Math.min(prev + 1, 5))}\r\n                  disabled={currentPage >= 5}\r\n                  className=\"p-2 text-gray-600 hover:text-indigo-600 hover:bg-gray-100 rounded disabled:opacity-50\"\r\n                >\r\n                  <i className=\"fas fa-chevron-right\"></i>\r\n                </button>\r\n              </div>\r\n              <div className=\"text-sm text-gray-500\">\r\n                {uploadedDoc ? formatFileSize(uploadedDoc.fileSize) : pdfFile ? formatFileSize(pdfFile.size) : 'Loading...'}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PDFViewer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}