{"ast":null,"code":"import React,{useRef,useState,useEffect}from'react';import{AnimatePresence,motion}from'framer-motion';import SignaturePad from'signature_pad';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const fonts=[{label:'Handwritten',value:'Pacifico, cursive'},{label:'Serif',value:'Georgia, serif'},{label:'Sans',value:'Arial, sans-serif'},{label:'Script',value:'Dancing Script, cursive'},{label:'Monospace',value:'Courier New, monospace'}];const modalVariants={hidden:{opacity:0,scale:0.96,y:24},visible:{opacity:1,scale:1,y:0,transition:{duration:0.22,ease:'easeOut'}},exit:{opacity:0,scale:0.96,y:-24,transition:{duration:0.18,ease:'easeIn'}}};const SignatureInputModal=_ref=>{let{open,onClose,onSave}=_ref;const[mode,setMode]=useState('draw');const[typedName,setTypedName]=useState('');const[typedFont,setTypedFont]=useState(fonts[0].value);const[uploadUrl,setUploadUrl]=useState(null);const canvasRef=useRef();const signaturePadRef=useRef();const modalRef=useRef();const inputRef=useRef();const[uploadError,setUploadError]=useState('');const[drawPreview,setDrawPreview]=useState(null);const[isPadEmpty,setIsPadEmpty]=useState(true);useEffect(()=>{if(!open)return;if(mode==='draw'&&canvasRef.current){if(signaturePadRef.current){signaturePadRef.current.off();signaturePadRef.current=null;}signaturePadRef.current=new SignaturePad(canvasRef.current,{backgroundColor:'rgb(255,255,255)',penColor:'rgb(0,0,0)',minWidth:1.5,maxWidth:2.5,throttle:16,onEnd:()=>{updateDrawPreview();}});const updateOnPointerUp=()=>{updateDrawPreview();};canvasRef.current.addEventListener('pointerup',updateOnPointerUp);canvasRef.current.addEventListener('touchend',updateOnPointerUp);setIsPadEmpty(true);setDrawPreview(null);return()=>{if(canvasRef.current){canvasRef.current.removeEventListener('pointerup',updateOnPointerUp);canvasRef.current.removeEventListener('touchend',updateOnPointerUp);}};}setTimeout(()=>{if(mode==='draw'&&canvasRef.current)canvasRef.current.focus();if(mode==='type'&&inputRef.current)inputRef.current.focus();},0);},[open,mode]);useEffect(()=>{if(!open)return;const handleKeyDown=e=>{if(e.key==='Escape')onClose();if(e.key==='Tab'&&modalRef.current){const focusable=modalRef.current.querySelectorAll('input, button, canvas, [tabindex]:not([tabindex=\"-1\"])');const first=focusable[0];const last=focusable[focusable.length-1];if(e.shiftKey?document.activeElement===first:document.activeElement===last){e.preventDefault();(e.shiftKey?last:first).focus();}}};document.addEventListener('keydown',handleKeyDown);return()=>document.removeEventListener('keydown',handleKeyDown);},[open,onClose]);useEffect(()=>{return()=>{if(signaturePadRef.current){signaturePadRef.current.off();signaturePadRef.current=null;}};},[]);if(!open)return null;const updateDrawPreview=()=>{if(signaturePadRef.current){const empty=signaturePadRef.current.isEmpty();setIsPadEmpty(empty);setDrawPreview(empty?null:signaturePadRef.current.toDataURL('image/png'));}};const handleClear=()=>{if(signaturePadRef.current){signaturePadRef.current.clear();updateDrawPreview();}};const handleUndo=()=>{if(signaturePadRef.current){const data=signaturePadRef.current.toData();if(data){data.pop();signaturePadRef.current.fromData(data);updateDrawPreview();}}};const handleUpload=e=>{setUploadError('');const file=e.target.files[0];if(!file)return;const validTypes=['image/png','image/jpeg','image/jpg','image/svg+xml'];if(!validTypes.includes(file.type)){setUploadError('Only PNG, JPG, JPEG, or SVG files are allowed.');return;}if(file.size>1024*1024){setUploadError('File size must be 1MB or less.');return;}const reader=new FileReader();reader.onload=ev=>setUploadUrl(ev.target.result);reader.readAsDataURL(file);};const handleSave=()=>{if(mode==='draw'){if(signaturePadRef.current&&!signaturePadRef.current.isEmpty()){const dataUrl=signaturePadRef.current.toDataURL('image/png');onSave(dataUrl,'drawn');}}else if(mode==='type'){if(typedName.trim()){const canvas=document.createElement('canvas');canvas.width=400;canvas.height=100;const ctx=canvas.getContext('2d');ctx.fillStyle='#fff';ctx.fillRect(0,0,canvas.width,canvas.height);ctx.font=\"48px \".concat(typedFont);ctx.fillStyle='#222';ctx.textBaseline='middle';ctx.textAlign='center';ctx.fillText(typedName,200,50);onSave(canvas.toDataURL('image/png'),'typed');}}else if(mode==='upload'&&uploadUrl){onSave(uploadUrl,'uploaded');}};const canSave=()=>{if(mode==='draw')return signaturePadRef.current&&!signaturePadRef.current.isEmpty();if(mode==='type')return typedName.trim().length>0;if(mode==='upload')return uploadUrl;return false;};return/*#__PURE__*/_jsx(AnimatePresence,{children:open&&/*#__PURE__*/_jsx(motion.div,{className:\"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"signature-modal-title\",\"aria-describedby\":\"signature-modal-desc\",initial:\"hidden\",animate:\"visible\",exit:\"exit\",variants:modalVariants,children:/*#__PURE__*/_jsxs(motion.div,{ref:modalRef,className:\"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative max-h-[90vh] overflow-y-auto\",tabIndex:\"-1\",initial:{scale:0.98,opacity:0,y:24},animate:{scale:1,opacity:1,y:0,transition:{duration:0.22}},exit:{scale:0.98,opacity:0,y:-24,transition:{duration:0.18}},children:[/*#__PURE__*/_jsx(motion.button,{className:\"absolute top-2 right-2 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-400 rounded\",onClick:onClose,\"aria-label\":\"Close signature modal\",whileHover:{scale:1.1},whileTap:{scale:0.95},children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{id:\"signature-modal-title\",className:\"text-xl font-semibold mb-4\",children:\"Add Your Signature\"}),/*#__PURE__*/_jsx(\"div\",{id:\"signature-modal-desc\",className:\"sr-only\",children:\"Add your signature by drawing, typing, or uploading an image. Use the tabs to switch modes.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2 mb-4\",role:\"tablist\",\"aria-label\":\"Signature input modes\",children:[{key:'draw',label:'Draw',icon:'✏️'},{key:'type',label:'Type',icon:'⌨️'},{key:'upload',label:'Upload',icon:'📁'}].map(tab=>/*#__PURE__*/_jsx(motion.button,{className:\"flex-1 py-3 px-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition-colors min-w-[44px] min-h-[44px] \".concat(mode===tab.key?'bg-indigo-600 text-white shadow-md':'bg-gray-100 text-gray-700 hover:bg-gray-200'),onClick:()=>setMode(tab.key),\"aria-label\":\"\".concat(tab.label,\" signature\"),\"aria-selected\":mode===tab.key,\"aria-controls\":\"signature-tabpanel-\".concat(tab.key),role:\"tab\",tabIndex:0,title:tab.label,whileHover:{scale:1.05},whileTap:{scale:0.96},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:tab.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:tab.label})]})},tab.key))}),mode==='draw'&&/*#__PURE__*/_jsxs(motion.div,{className:\"flex flex-col items-center\",id:\"signature-tabpanel-draw\",role:\"tabpanel\",\"aria-labelledby\":\"signature-tab-draw\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.2},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,width:400,height:100,className:\"border-2 border-gray-300 rounded-lg mb-3 cursor-crosshair bg-white focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 min-h-[44px] min-w-[200px]\",style:{touchAction:'none'},tabIndex:0,\"aria-label\":\"Draw your signature here\",title:\"Draw your signature here\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2 right-2 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded\",children:\"Draw here\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(motion.button,{className:\"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-400 rounded min-w-[44px] min-h-[44px]\",onClick:handleUndo,\"aria-label\":\"Undo last stroke\",title:\"Undo\",whileHover:{scale:1.05},whileTap:{scale:0.95},children:\"Undo\"}),/*#__PURE__*/_jsx(motion.button,{className:\"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-400 rounded min-w-[44px] min-h-[44px]\",onClick:handleClear,\"aria-label\":\"Clear signature\",title:\"Clear\",whileHover:{scale:1.05},whileTap:{scale:0.95},children:\"Clear\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col items-center mt-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500 mb-1\",children:\"Preview:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"border rounded bg-gray-50 p-2 min-h-[60px] min-w-[200px] flex items-center justify-center\",children:drawPreview?/*#__PURE__*/_jsx(\"img\",{src:drawPreview,alt:\"Signature preview\",className:\"max-h-16 max-w-full\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"(Draw above to preview)\"})})]})]}),mode==='type'&&/*#__PURE__*/_jsxs(motion.div,{className:\"flex flex-col items-center space-y-3\",id:\"signature-tabpanel-type\",role:\"tabpanel\",\"aria-labelledby\":\"signature-tab-type\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.2},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"signature-type-name\",className:\"sr-only\",children:\"Type your name\"}),/*#__PURE__*/_jsx(\"input\",{ref:inputRef,id:\"signature-type-name\",name:\"typedName\",type:\"text\",className:\"w-full border-2 border-gray-300 rounded-lg px-4 py-3 text-center text-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 min-h-[44px]\",placeholder:\"Type your name\",value:typedName,onChange:e=>setTypedName(e.target.value),maxLength:32,\"aria-label\":\"Type your name\",title:\"Type your name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2 justify-center\",children:fonts.map(f=>/*#__PURE__*/_jsx(motion.button,{className:\"px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition-colors min-w-[44px] min-h-[44px] \".concat(typedFont===f.value?'bg-indigo-500 text-white shadow-md':'bg-gray-100 text-gray-700 hover:bg-gray-200'),style:{fontFamily:f.value},onClick:()=>setTypedFont(f.value),\"aria-label\":\"Select font: \".concat(f.label),title:f.label,whileHover:{scale:1.05},whileTap:{scale:0.96},children:f.label},f.value))}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-4 border-2 border-gray-200 rounded-lg bg-gray-50 text-2xl min-h-[60px] flex items-center justify-center\",style:{fontFamily:typedFont,minWidth:300},children:typedName||'Your Name'})]}),mode==='upload'&&/*#__PURE__*/_jsxs(motion.div,{className:\"flex flex-col items-center\",id:\"signature-tabpanel-upload\",role:\"tabpanel\",\"aria-labelledby\":\"signature-tab-upload\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.2},children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"block w-full p-4 border-2 border-dashed border-gray-300 rounded-lg text-center cursor-pointer hover:border-indigo-400 hover:bg-indigo-50 transition-colors min-h-[44px]\",title:\"Click to upload signature\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".png,.jpg,.jpeg,.svg\",onChange:handleUpload,\"aria-label\":\"Upload signature image\",className:\"hidden\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 mx-auto text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-700\",children:\"Click to upload signature\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"PNG, JPG, JPEG, SVG. Max 1MB.\"})]})]})]})}),uploadError&&/*#__PURE__*/_jsx(motion.div,{className:\"text-sm text-rose-500 mt-2 text-center\",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:uploadError}),uploadUrl&&/*#__PURE__*/_jsxs(motion.div,{className:\"mt-4 text-center\",initial:{opacity:0,scale:0.9},animate:{opacity:1,scale:1},children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:\"Preview:\"}),/*#__PURE__*/_jsx(\"img\",{src:uploadUrl,alt:\"Signature preview\",className:\"max-h-24 mx-auto border rounded\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end mt-6 space-x-3\",children:[/*#__PURE__*/_jsx(motion.button,{className:\"px-6 py-3 rounded-lg bg-gray-200 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition-colors min-w-[44px] min-h-[44px]\",onClick:onClose,\"aria-label\":\"Cancel signature input\",title:\"Cancel\",whileHover:{scale:1.05},whileTap:{scale:0.96},children:\"Cancel\"}),/*#__PURE__*/_jsx(motion.button,{className:\"px-6 py-3 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-indigo-400 transition-colors min-w-[44px] min-h-[44px]\",onClick:handleSave,disabled:!canSave(),\"aria-label\":\"Save signature\",title:\"Save signature\",whileHover:{scale:1.05},whileTap:{scale:0.96},children:\"Save Signature\"})]})]})})});};export default SignatureInputModal;","map":{"version":3,"names":["React","useRef","useState","useEffect","AnimatePresence","motion","SignaturePad","jsx","_jsx","jsxs","_jsxs","fonts","label","value","modalVariants","hidden","opacity","scale","y","visible","transition","duration","ease","exit","SignatureInputModal","_ref","open","onClose","onSave","mode","setMode","typedName","setTypedName","typedFont","setTypedFont","uploadUrl","setUploadUrl","canvasRef","signaturePadRef","modalRef","inputRef","uploadError","setUploadError","drawPreview","setDrawPreview","isPadEmpty","setIsPadEmpty","current","off","backgroundColor","penColor","minWidth","maxWidth","throttle","onEnd","updateDrawPreview","updateOnPointerUp","addEventListener","removeEventListener","setTimeout","focus","handleKeyDown","e","key","focusable","querySelectorAll","first","last","length","shiftKey","document","activeElement","preventDefault","empty","isEmpty","toDataURL","handleClear","clear","handleUndo","data","toData","pop","fromData","handleUpload","file","target","files","validTypes","includes","type","size","reader","FileReader","onload","ev","result","readAsDataURL","handleSave","dataUrl","trim","canvas","createElement","width","height","ctx","getContext","fillStyle","fillRect","font","concat","textBaseline","textAlign","fillText","canSave","children","div","className","role","initial","animate","variants","ref","tabIndex","button","onClick","whileHover","whileTap","id","icon","map","tab","title","style","touchAction","src","alt","htmlFor","name","placeholder","onChange","maxLength","f","fontFamily","accept","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","disabled"],"sources":["D:/Doc Sign/client/src/components/SignatureInputModal.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\nimport { AnimatePresence, motion } from 'framer-motion';\r\nimport SignaturePad from 'signature_pad';\r\n\r\nconst fonts = [\r\n  { label: 'Handwritten', value: 'Pacifico, cursive' },\r\n  { label: 'Serif', value: 'Georgia, serif' },\r\n  { label: 'Sans', value: 'Arial, sans-serif' },\r\n  { label: 'Script', value: 'Dancing Script, cursive' },\r\n  { label: 'Monospace', value: 'Courier New, monospace' },\r\n];\r\n\r\nconst modalVariants = {\r\n  hidden: { opacity: 0, scale: 0.96, y: 24 },\r\n  visible: { opacity: 1, scale: 1, y: 0, transition: { duration: 0.22, ease: 'easeOut' } },\r\n  exit: { opacity: 0, scale: 0.96, y: -24, transition: { duration: 0.18, ease: 'easeIn' } },\r\n};\r\n\r\nconst SignatureInputModal = ({ open, onClose, onSave }) => {\r\n  const [mode, setMode] = useState('draw');\r\n  const [typedName, setTypedName] = useState('');\r\n  const [typedFont, setTypedFont] = useState(fonts[0].value);\r\n  const [uploadUrl, setUploadUrl] = useState(null);\r\n  const canvasRef = useRef();\r\n  const signaturePadRef = useRef();\r\n  const modalRef = useRef();\r\n  const inputRef = useRef();\r\n  const [uploadError, setUploadError] = useState('');\r\n  const [drawPreview, setDrawPreview] = useState(null);\r\n  const [isPadEmpty, setIsPadEmpty] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    if (mode === 'draw' && canvasRef.current) {\r\n      if (signaturePadRef.current) {\r\n        signaturePadRef.current.off();\r\n        signaturePadRef.current = null;\r\n      }\r\n      signaturePadRef.current = new SignaturePad(canvasRef.current, {\r\n        backgroundColor: 'rgb(255,255,255)',\r\n        penColor: 'rgb(0,0,0)',\r\n        minWidth: 1.5,\r\n        maxWidth: 2.5,\r\n        throttle: 16,\r\n        onEnd: () => {\r\n          updateDrawPreview();\r\n        },\r\n      });\r\n      const updateOnPointerUp = () => {\r\n        updateDrawPreview();\r\n      };\r\n      canvasRef.current.addEventListener('pointerup', updateOnPointerUp);\r\n      canvasRef.current.addEventListener('touchend', updateOnPointerUp);\r\n      setIsPadEmpty(true);\r\n      setDrawPreview(null);\r\n      return () => {\r\n        if (canvasRef.current) {\r\n          canvasRef.current.removeEventListener('pointerup', updateOnPointerUp);\r\n          canvasRef.current.removeEventListener('touchend', updateOnPointerUp);\r\n        }\r\n      };\r\n    }\r\n    setTimeout(() => {\r\n      if (mode === 'draw' && canvasRef.current) canvasRef.current.focus();\r\n      if (mode === 'type' && inputRef.current) inputRef.current.focus();\r\n    }, 0);\r\n  }, [open, mode]);\r\n\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    const handleKeyDown = (e) => {\r\n      if (e.key === 'Escape') onClose();\r\n      if (e.key === 'Tab' && modalRef.current) {\r\n        const focusable = modalRef.current.querySelectorAll('input, button, canvas, [tabindex]:not([tabindex=\"-1\"])');\r\n        const first = focusable[0];\r\n        const last = focusable[focusable.length - 1];\r\n        if (e.shiftKey ? document.activeElement === first : document.activeElement === last) {\r\n          e.preventDefault();\r\n          (e.shiftKey ? last : first).focus();\r\n        }\r\n      }\r\n    };\r\n    document.addEventListener('keydown', handleKeyDown);\r\n    return () => document.removeEventListener('keydown', handleKeyDown);\r\n  }, [open, onClose]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (signaturePadRef.current) {\r\n        signaturePadRef.current.off();\r\n        signaturePadRef.current = null;\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  if (!open) return null;\r\n\r\n  const updateDrawPreview = () => {\r\n    if (signaturePadRef.current) {\r\n      const empty = signaturePadRef.current.isEmpty();\r\n      setIsPadEmpty(empty);\r\n      setDrawPreview(empty ? null : signaturePadRef.current.toDataURL('image/png'));\r\n    }\r\n  };\r\n\r\n  const handleClear = () => {\r\n    if (signaturePadRef.current) {\r\n      signaturePadRef.current.clear();\r\n      updateDrawPreview();\r\n    }\r\n  };\r\n  const handleUndo = () => {\r\n    if (signaturePadRef.current) {\r\n      const data = signaturePadRef.current.toData();\r\n      if (data) {\r\n        data.pop();\r\n        signaturePadRef.current.fromData(data);\r\n        updateDrawPreview();\r\n      }\r\n    }\r\n  };\r\n  const handleUpload = (e) => {\r\n    setUploadError('');\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n    const validTypes = ['image/png', 'image/jpeg', 'image/jpg', 'image/svg+xml'];\r\n    if (!validTypes.includes(file.type)) {\r\n      setUploadError('Only PNG, JPG, JPEG, or SVG files are allowed.');\r\n      return;\r\n    }\r\n    if (file.size > 1024 * 1024) {\r\n      setUploadError('File size must be 1MB or less.');\r\n      return;\r\n    }\r\n    const reader = new FileReader();\r\n    reader.onload = (ev) => setUploadUrl(ev.target.result);\r\n    reader.readAsDataURL(file);\r\n  };\r\n  const handleSave = () => {\r\n    if (mode === 'draw') {\r\n      if (signaturePadRef.current && !signaturePadRef.current.isEmpty()) {\r\n        const dataUrl = signaturePadRef.current.toDataURL('image/png');\r\n        onSave(dataUrl, 'drawn');\r\n      }\r\n    } else if (mode === 'type') {\r\n      if (typedName.trim()) {\r\n        const canvas = document.createElement('canvas');\r\n        canvas.width = 400;\r\n        canvas.height = 100;\r\n        const ctx = canvas.getContext('2d');\r\n        ctx.fillStyle = '#fff';\r\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n        ctx.font = `48px ${typedFont}`;\r\n        ctx.fillStyle = '#222';\r\n        ctx.textBaseline = 'middle';\r\n        ctx.textAlign = 'center';\r\n        ctx.fillText(typedName, 200, 50);\r\n        onSave(canvas.toDataURL('image/png'), 'typed');\r\n      }\r\n    } else if (mode === 'upload' && uploadUrl) {\r\n      onSave(uploadUrl, 'uploaded');\r\n    }\r\n  };\r\n  const canSave = () => {\r\n    if (mode === 'draw') return signaturePadRef.current && !signaturePadRef.current.isEmpty();\r\n    if (mode === 'type') return typedName.trim().length > 0;\r\n    if (mode === 'upload') return uploadUrl;\r\n    return false;\r\n  };\r\n  return (\r\n    <AnimatePresence>\r\n      {open && (\r\n        <motion.div className=\"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"signature-modal-title\" aria-describedby=\"signature-modal-desc\" initial=\"hidden\" animate=\"visible\" exit=\"exit\" variants={modalVariants}>\r\n          <motion.div ref={modalRef} className=\"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative max-h-[90vh] overflow-y-auto\" tabIndex=\"-1\" initial={{ scale: 0.98, opacity: 0, y: 24 }} animate={{ scale: 1, opacity: 1, y: 0, transition: { duration: 0.22 } }} exit={{ scale: 0.98, opacity: 0, y: -24, transition: { duration: 0.18 } }}>\r\n            <motion.button className=\"absolute top-2 right-2 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-400 rounded\" onClick={onClose} aria-label=\"Close signature modal\" whileHover={{ scale: 1.1 }} whileTap={{ scale: 0.95 }}>&times;</motion.button>\r\n            <h2 id=\"signature-modal-title\" className=\"text-xl font-semibold mb-4\">Add Your Signature</h2>\r\n            <div id=\"signature-modal-desc\" className=\"sr-only\">Add your signature by drawing, typing, or uploading an image. Use the tabs to switch modes.</div>\r\n            <div className=\"flex space-x-2 mb-4\" role=\"tablist\" aria-label=\"Signature input modes\">\r\n              {[\r\n                { key: 'draw', label: 'Draw', icon: '✏️' },\r\n                { key: 'type', label: 'Type', icon: '⌨️' },\r\n                { key: 'upload', label: 'Upload', icon: '📁' }\r\n              ].map((tab) => (\r\n                <motion.button\r\n                  key={tab.key}\r\n                  className={`flex-1 py-3 px-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition-colors min-w-[44px] min-h-[44px] ${mode === tab.key ? 'bg-indigo-600 text-white shadow-md' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}\r\n                  onClick={() => setMode(tab.key)}\r\n                  aria-label={`${tab.label} signature`}\r\n                  aria-selected={mode === tab.key}\r\n                  aria-controls={`signature-tabpanel-${tab.key}`}\r\n                  role=\"tab\"\r\n                  tabIndex={0}\r\n                  title={tab.label}\r\n                  whileHover={{ scale: 1.05 }}\r\n                  whileTap={{ scale: 0.96 }}\r\n                >\r\n                  <div className=\"flex items-center justify-center space-x-1\">\r\n                    <span>{tab.icon}</span>\r\n                    <span className=\"text-sm font-medium\">{tab.label}</span>\r\n                  </div>\r\n                </motion.button>\r\n              ))}\r\n            </div>\r\n            {mode === 'draw' && (\r\n              <motion.div className=\"flex flex-col items-center\" id=\"signature-tabpanel-draw\" role=\"tabpanel\" aria-labelledby=\"signature-tab-draw\" initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.2 }}>\r\n                <div className=\"relative\">\r\n                  <canvas ref={canvasRef} width={400} height={100} className=\"border-2 border-gray-300 rounded-lg mb-3 cursor-crosshair bg-white focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 min-h-[44px] min-w-[200px]\" style={{ touchAction: 'none' }} tabIndex={0} aria-label=\"Draw your signature here\" title=\"Draw your signature here\" />\r\n                  <div className=\"absolute top-2 right-2 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded\">Draw here</div>\r\n                </div>\r\n                <div className=\"flex space-x-2 mb-2\">\r\n                  <motion.button className=\"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-400 rounded min-w-[44px] min-h-[44px]\" onClick={handleUndo} aria-label=\"Undo last stroke\" title=\"Undo\" whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>Undo</motion.button>\r\n                  <motion.button className=\"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-400 rounded min-w-[44px] min-h-[44px]\" onClick={handleClear} aria-label=\"Clear signature\" title=\"Clear\" whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>Clear</motion.button>\r\n                </div>\r\n                <div className=\"w-full flex flex-col items-center mt-2\">\r\n                  <span className=\"text-xs text-gray-500 mb-1\">Preview:</span>\r\n                  <div className=\"border rounded bg-gray-50 p-2 min-h-[60px] min-w-[200px] flex items-center justify-center\">\r\n                    {drawPreview ? (\r\n                      <img src={drawPreview} alt=\"Signature preview\" className=\"max-h-16 max-w-full\" />\r\n                    ) : (\r\n                      <span className=\"text-gray-400\">(Draw above to preview)</span>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n            {mode === 'type' && (\r\n              <motion.div className=\"flex flex-col items-center space-y-3\" id=\"signature-tabpanel-type\" role=\"tabpanel\" aria-labelledby=\"signature-tab-type\" initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.2 }}>\r\n                <label htmlFor=\"signature-type-name\" className=\"sr-only\">Type your name</label>\r\n                <input\r\n                  ref={inputRef}\r\n                  id=\"signature-type-name\"\r\n                  name=\"typedName\"\r\n                  type=\"text\"\r\n                  className=\"w-full border-2 border-gray-300 rounded-lg px-4 py-3 text-center text-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 min-h-[44px]\"\r\n                  placeholder=\"Type your name\"\r\n                  value={typedName}\r\n                  onChange={e => setTypedName(e.target.value)}\r\n                  maxLength={32}\r\n                  aria-label=\"Type your name\"\r\n                  title=\"Type your name\"\r\n                />\r\n                <div className=\"flex flex-wrap gap-2 justify-center\">{fonts.map(f => (\r\n                  <motion.button key={f.value} className={`px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition-colors min-w-[44px] min-h-[44px] ${typedFont === f.value ? 'bg-indigo-500 text-white shadow-md' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`} style={{ fontFamily: f.value }} onClick={() => setTypedFont(f.value)} aria-label={`Select font: ${f.label}`} title={f.label} whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.96 }}>{f.label}</motion.button>))}</div>\r\n                <div className=\"mt-4 p-4 border-2 border-gray-200 rounded-lg bg-gray-50 text-2xl min-h-[60px] flex items-center justify-center\" style={{ fontFamily: typedFont, minWidth: 300 }}>{typedName || 'Your Name'}</div>\r\n              </motion.div>\r\n            )}\r\n            {mode === 'upload' && (\r\n              <motion.div className=\"flex flex-col items-center\" id=\"signature-tabpanel-upload\" role=\"tabpanel\" aria-labelledby=\"signature-tab-upload\" initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.2 }}>\r\n                <div className=\"w-full\"><label className=\"block w-full p-4 border-2 border-dashed border-gray-300 rounded-lg text-center cursor-pointer hover:border-indigo-400 hover:bg-indigo-50 transition-colors min-h-[44px]\" title=\"Click to upload signature\"><input type=\"file\" accept=\".png,.jpg,.jpeg,.svg\" onChange={handleUpload} aria-label=\"Upload signature image\" className=\"hidden\" /><div className=\"space-y-2\"><svg className=\"w-8 h-8 mx-auto text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" /></svg><div><p className=\"text-sm font-medium text-gray-700\">Click to upload signature</p><p className=\"text-xs text-gray-500\">PNG, JPG, JPEG, SVG. Max 1MB.</p></div></div></label></div>\r\n                {uploadError && (<motion.div className=\"text-sm text-rose-500 mt-2 text-center\" initial={{ opacity: 0, y: -10 }} animate={{ opacity: 1, y: 0 }}>{uploadError}</motion.div>)}\r\n                {uploadUrl && (<motion.div className=\"mt-4 text-center\" initial={{ opacity: 0, scale: 0.9 }} animate={{ opacity: 1, scale: 1 }}><p className=\"text-sm text-gray-600 mb-2\">Preview:</p><img src={uploadUrl} alt=\"Signature preview\" className=\"max-h-24 mx-auto border rounded\" /></motion.div>)}\r\n              </motion.div>\r\n            )}\r\n            <div className=\"flex justify-end mt-6 space-x-3\">\r\n              <motion.button className=\"px-6 py-3 rounded-lg bg-gray-200 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition-colors min-w-[44px] min-h-[44px]\" onClick={onClose} aria-label=\"Cancel signature input\" title=\"Cancel\" whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.96 }}>Cancel</motion.button>\r\n              <motion.button className=\"px-6 py-3 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-indigo-400 transition-colors min-w-[44px] min-h-[44px]\" onClick={handleSave} disabled={!canSave()} aria-label=\"Save signature\" title=\"Save signature\" whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.96 }}>Save Signature</motion.button>\r\n            </div>\r\n          </motion.div>\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport default SignatureInputModal; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}