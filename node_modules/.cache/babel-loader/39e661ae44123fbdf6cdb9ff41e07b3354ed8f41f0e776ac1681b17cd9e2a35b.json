{"ast":null,"code":"var _jsxFileName = \"D:\\\\Doc Sign\\\\client\\\\src\\\\components\\\\PDFRenderer.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Document, Page, pdfjs } from 'react-pdf';\nimport MinimalPDFRenderer from './MinimalPDFRenderer';\n\n// Standardize PDF.js worker source\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\nconst PDFRenderer = ({\n  file,\n  signatures = [],\n  activeSignature,\n  onPlaceSignature,\n  children\n}) => {\n  _s();\n  const [numPages, setNumPages] = useState(null);\n  const [pageSizes, setPageSizes] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [containerWidth, setContainerWidth] = useState(900);\n  const containerRef = useRef();\n  const [loadTimeout, setLoadTimeout] = useState(false);\n  const [pdfSource, setPdfSource] = useState('blob'); // 'blob', 'url', 'public'\n\n  // Known-good public PDF URL\n  const publicPdfUrl = 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf';\n\n  // Auto-fit to width on mount and resize\n  useEffect(() => {\n    const fitToWidth = () => {\n      if (!containerRef.current) return;\n      const sidebarWidth = 260;\n      const maxWidth = 1400;\n      const width = Math.min(window.innerWidth - sidebarWidth - 64, maxWidth);\n      setContainerWidth(width);\n    };\n    fitToWidth();\n    window.addEventListener('resize', fitToWidth);\n    return () => window.removeEventListener('resize', fitToWidth);\n  }, []);\n\n  // Debug logging\n  useEffect(() => {\n    console.log('PDFRenderer: file prop changed:', file);\n    console.log('PDFRenderer: file type:', typeof file);\n    console.log('PDFRenderer: file instanceof Blob:', file instanceof Blob);\n    console.log('PDFRenderer: file instanceof File:', file instanceof File);\n    if (file) {\n      console.log('PDFRenderer: file size:', file.size);\n      console.log('PDFRenderer: file name:', file.name);\n\n      // Test if we can read the blob\n      if (file instanceof Blob) {\n        const reader = new FileReader();\n        reader.onload = e => {\n          console.log('Blob read successfully, first 100 bytes:', e.target.result.slice(0, 100));\n        };\n        reader.onerror = e => {\n          console.error('Error reading blob:', e);\n        };\n        reader.readAsArrayBuffer(file);\n      }\n    }\n  }, [file]);\n\n  // Add a timeout for PDF loading\n  useEffect(() => {\n    if (!numPages) {\n      const timeout = setTimeout(() => setLoadTimeout(true), 10000);\n      return () => clearTimeout(timeout);\n    } else {\n      setLoadTimeout(false);\n    }\n  }, [numPages]);\n  useEffect(() => {\n    if (containerRef.current) {\n      console.log('PDFRenderer: container width:', containerRef.current.offsetWidth);\n    }\n  });\n  useEffect(() => {\n    console.log('PDFRenderer: COMPONENT RENDERED - DEBUG BANNER SHOULD BE VISIBLE');\n  });\n  const handleLoadSuccess = ({\n    numPages\n  }) => {\n    console.log('PDFRenderer: PDF loaded successfully with', numPages, 'pages');\n    setNumPages(numPages);\n    setLoading(false);\n    setError(null);\n  };\n  const handleLoadError = error => {\n    console.error('PDFRenderer: PDF load error:', error);\n    setError(`Failed to load PDF: ${error.message || 'Unknown error'}`);\n    setLoading(false);\n  };\n  const handlePageRenderSuccess = (pageNum, page) => {\n    console.log(`PDFRenderer: Page ${pageNum} rendered successfully`);\n    const {\n      width,\n      height\n    } = page.getViewport({\n      scale: containerWidth / width\n    });\n    console.log(`PDFRenderer: Page ${pageNum} dimensions:`, {\n      width,\n      height\n    });\n    setPageSizes(sizes => ({\n      ...sizes,\n      [pageNum]: {\n        width,\n        height\n      }\n    }));\n  };\n  const handlePageRenderError = (error, pageNumber) => {\n    console.error(`PDFRenderer: Error rendering page ${pageNumber}:`, error);\n  };\n\n  // Click-to-place handler\n  const handlePageClick = (e, pageNum) => {\n    if (!activeSignature) return;\n    const rect = e.currentTarget.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    onPlaceSignature(pageNum, x, y);\n  };\n\n  // Drag, resize, rotate handlers for placed signatures\n  const handleDrag = (e, sig) => {\n    if (!sig.isSelected) return;\n    e.stopPropagation();\n    const startX = e.clientX;\n    const startY = e.clientY;\n    const origX = sig.x;\n    const origY = sig.y;\n    const move = moveEvent => {\n      const dx = moveEvent.clientX - startX;\n      const dy = moveEvent.clientY - startY;\n      sig.onUpdate(sig.id, {\n        x: origX + dx,\n        y: origY + dy\n      });\n    };\n    const up = () => {\n      window.removeEventListener('mousemove', move);\n      window.removeEventListener('mouseup', up);\n    };\n    window.addEventListener('mousemove', move);\n    window.addEventListener('mouseup', up);\n  };\n  const handleResize = (e, sig, corner) => {\n    if (!sig.isSelected) return;\n    e.stopPropagation();\n    const startX = e.clientX;\n    const startY = e.clientY;\n    const origW = sig.width;\n    const origH = sig.height;\n    const origX = sig.x;\n    const origY = sig.y;\n    const move = moveEvent => {\n      let dx = moveEvent.clientX - startX;\n      let dy = moveEvent.clientY - startY;\n      let newW = origW,\n        newH = origH,\n        newX = origX,\n        newY = origY;\n      if (corner === 'se') {\n        newW = origW + dx;\n        newH = origH + dy;\n      }\n      if (corner === 'sw') {\n        newW = origW - dx;\n        newH = origH + dy;\n        newX = origX + dx;\n      }\n      if (corner === 'ne') {\n        newW = origW + dx;\n        newH = origH - dy;\n        newY = origY + dy;\n      }\n      if (corner === 'nw') {\n        newW = origW - dx;\n        newH = origH - dy;\n        newX = origX + dx;\n        newY = origY + dy;\n      }\n      newW = Math.max(40, newW);\n      newH = Math.max(20, newH);\n      sig.onUpdate(sig.id, {\n        width: newW,\n        height: newH,\n        x: newX,\n        y: newY\n      });\n    };\n    const up = () => {\n      window.removeEventListener('mousemove', move);\n      window.removeEventListener('mouseup', up);\n    };\n    window.addEventListener('mousemove', move);\n    window.addEventListener('mouseup', up);\n  };\n  const handleRotate = (e, sig) => {\n    if (!sig.isSelected) return;\n    e.stopPropagation();\n    const rect = e.currentTarget.parentNode.getBoundingClientRect();\n    const centerX = rect.left + rect.width / 2;\n    const centerY = rect.top + rect.height / 2;\n    const startAngle = sig.rotation || 0;\n    const move = moveEvent => {\n      const dx = moveEvent.clientX - centerX;\n      const dy = moveEvent.clientY - centerY;\n      const angle = Math.atan2(dy, dx) * 180 / Math.PI;\n      sig.onUpdate(sig.id, {\n        rotation: angle\n      });\n    };\n    const up = () => {\n      window.removeEventListener('mousemove', move);\n      window.removeEventListener('mouseup', up);\n    };\n    window.addEventListener('mousemove', move);\n    window.addEventListener('mouseup', up);\n  };\n\n  // Accept file as either Blob or URL\n  const getFileSource = () => {\n    if (pdfSource === 'blob') {\n      console.log('PDFRenderer: Using Blob as file source');\n      return file;\n    }\n    if (pdfSource === 'url') {\n      if (typeof file === 'string') {\n        console.log('PDFRenderer: Using object URL as file source');\n        return file;\n      }\n      // If file is a Blob, create an object URL\n      if (file instanceof Blob) {\n        const url = URL.createObjectURL(file);\n        console.log('PDFRenderer: Created object URL from Blob:', url);\n        return url;\n      }\n      return '';\n    }\n    if (pdfSource === 'public') {\n      console.log('PDFRenderer: Using public PDF URL as file source');\n      return publicPdfUrl;\n    }\n    return file;\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full h-full flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto mb-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 text-sm\",\n          children: \"Loading PDF...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full h-full flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 mb-2\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-8 h-8 mx-auto\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 text-sm mb-2\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this);\n  }\n  if (!file) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full h-full flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 text-sm\",\n          children: \"No PDF file provided\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerRef,\n    className: \"w-full h-full min-h-0 min-w-0 flex-1 flex flex-col items-center py-0 bg-gray-50 border-4 border-blue-400\",\n    style: {\n      background: '#f8fafc'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full bg-yellow-400 text-black text-center font-bold py-2 text-lg mb-2 z-50\",\n      children: \"PDFRenderer ACTIVE - DEBUG MODE\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center mb-6 space-x-6 p-4 bg-pink-300 border-4 border-pink-600 rounded-xl\",\n      style: {\n        fontSize: '1.5rem',\n        fontWeight: 'bold',\n        margin: '24px 0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-black\",\n        children: \"PDF Source:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setPdfSource('blob'),\n        className: `px-6 py-3 rounded-xl border-4 ${pdfSource === 'blob' ? 'bg-indigo-600 text-white border-indigo-800' : 'bg-white text-indigo-800 border-indigo-400'} transition-all`,\n        children: \"Blob\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setPdfSource('url'),\n        className: `px-6 py-3 rounded-xl border-4 ${pdfSource === 'url' ? 'bg-green-600 text-white border-green-800' : 'bg-white text-green-800 border-green-400'} transition-all`,\n        children: \"Object URL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setPdfSource('public'),\n        className: `px-6 py-3 rounded-xl border-4 ${pdfSource === 'public' ? 'bg-yellow-500 text-black border-yellow-800' : 'bg-white text-yellow-800 border-yellow-400'} transition-all`,\n        children: \"Public PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full bg-green-300 text-black text-center font-bold py-2 text-lg mb-4 z-50\",\n      children: \"PDFRenderer BUTTONS DEBUG BANNER\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-2xl mb-4 border-2 border-green-400 bg-green-50\",\n      children: /*#__PURE__*/_jsxDEV(MinimalPDFRenderer, {\n        file: getFileSource(),\n        debug: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), loadTimeout && !numPages && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-red-600 font-semibold p-4 border border-red-300 bg-red-50 rounded-lg mb-4\",\n      children: \"PDF failed to load after 10 seconds. Please check the file or try reloading.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Document, {\n      file: getFileSource(),\n      onLoadSuccess: handleLoadSuccess,\n      onLoadError: handleLoadError,\n      loading: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center p-8 w-full h-full min-h-[400px]\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Loading PDF...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 11\n      }, this),\n      error: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center p-8 w-full h-full min-h-[400px]\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 mb-2\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-8 h-8 mx-auto\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Error loading PDF. Please try reloading or check the file.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 11\n      }, this),\n      children: [activeSignature && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute left-0 top-0 w-full h-full z-40 pointer-events-none\",\n        style: {\n          pointerEvents: 'none'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"100%\",\n          height: \"100%\",\n          style: {\n            position: 'absolute',\n            left: 0,\n            top: 0,\n            zIndex: 40\n          },\n          children: [[...Array(20)].map((_, i) => /*#__PURE__*/_jsxDEV(\"line\", {\n            x1: `${(i + 1) * 5}%`,\n            y1: \"0\",\n            x2: `${(i + 1) * 5}%`,\n            y2: \"100%\",\n            stroke: \"#3b82f6\",\n            strokeDasharray: \"4 4\",\n            strokeWidth: \"0.5\",\n            opacity: \"0.2\"\n          }, `v${i}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 17\n          }, this)), [...Array(20)].map((_, i) => /*#__PURE__*/_jsxDEV(\"line\", {\n            x1: \"0\",\n            y1: `${(i + 1) * 5}%`,\n            x2: \"100%\",\n            y2: `${(i + 1) * 5}%`,\n            stroke: \"#3b82f6\",\n            strokeDasharray: \"4 4\",\n            strokeWidth: \"0.5\",\n            opacity: \"0.2\"\n          }, `h${i}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 11\n      }, this), numPages && Array.from(new Array(numPages), (el, idx) => {\n        const pageNum = idx + 1;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative mb-8 flex justify-center w-full min-h-0 min-w-0 flex-1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white shadow-xl rounded-lg flex items-center justify-center border-4 border-red-400 border-dashed w-full min-h-0 min-w-0 flex-1\",\n            style: {\n              position: 'relative',\n              background: '#fff'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Page, {\n              pageNumber: pageNum,\n              width: 900,\n              className: \"rounded-lg\",\n              onRenderSuccess: page => handlePageRenderSuccess(pageNum, page),\n              onRenderError: error => handlePageRenderError(error, pageNum),\n              loading: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-pulse bg-gray-200 rounded-lg flex items-center justify-center w-full min-h-[400px]\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: [\"Loading page \", pageNum, \"...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 21\n              }, this),\n              error: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-2 border-red-200 rounded-lg flex items-center justify-center bg-red-50 w-full min-h-[400px]\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-red-500\",\n                  children: [\"Error loading page \", pageNum]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `absolute left-0 top-0 w-full h-full z-30 ${activeSignature ? 'cursor-crosshair hover:ring-2 hover:ring-indigo-400 bg-blue-100/20' : ''}`,\n              style: {\n                background: activeSignature ? 'rgba(59,130,246,0.08)' : 'transparent'\n              },\n              onClick: e => {\n                if (activeSignature) {\n                  const rect = e.currentTarget.getBoundingClientRect();\n                  const x = e.clientX - rect.left;\n                  const y = e.clientY - rect.top;\n                  console.log('Placing signature:', {\n                    pageNum,\n                    x,\n                    y,\n                    activeSignature\n                  });\n                }\n                handlePageClick(e, pageNum);\n              },\n              \"aria-label\": \"PDF page click layer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 17\n            }, this), signatures.filter(s => s.page === pageNum).map(sig => sig.isSelected ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute z-50 group ring-4 ring-green-500\",\n              style: {\n                left: sig.x,\n                top: sig.y,\n                width: sig.width || 180,\n                height: sig.height || 60,\n                transform: `rotate(${sig.rotation || 0}deg)`,\n                userSelect: 'none'\n              },\n              onMouseDown: e => handleDrag(e, sig),\n              onClick: e => {\n                e.stopPropagation();\n                console.log('Signature selected:', sig);\n                sig.onSelect();\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: sig.data,\n                alt: \"Signature\",\n                className: \"w-full h-full object-contain pointer-events-none rounded shadow\",\n                draggable: false,\n                onError: e => {\n                  console.error('Signature image failed to load:', sig.id);\n                  e.target.style.display = 'none';\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 23\n              }, this), ['nw', 'ne', 'sw', 'se'].map(corner => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `absolute w-3 h-3 bg-white border-2 border-indigo-500 rounded-full cursor-${corner}-resize`,\n                style: {\n                  ...(corner.includes('n') ? {\n                    top: -6\n                  } : {\n                    bottom: -6\n                  }),\n                  ...(corner.includes('w') ? {\n                    left: -6\n                  } : {\n                    right: -6\n                  }),\n                  zIndex: 60\n                },\n                onMouseDown: e => handleResize(e, sig, corner)\n              }, corner, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 25\n              }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute -top-8 left-1/2 transform -translate-x-1/2 w-6 h-6 bg-indigo-500 text-white rounded-full flex items-center justify-center cursor-pointer shadow\",\n                style: {\n                  zIndex: 60\n                },\n                onMouseDown: e => handleRotate(e, sig),\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-4 h-4\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M10 19l-7-7m0 0l7-7m-7 7h18\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 382,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-lg\",\n                style: {\n                  zIndex: 60\n                },\n                onClick: e => {\n                  e.stopPropagation();\n                  sig.onDelete(sig.id);\n                },\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-3 h-3\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M6 18L18 6M6 6l12 12\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 392,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 23\n              }, this)]\n            }, sig.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: sig.data,\n              alt: \"Signature\",\n              className: \"absolute z-40 pointer-events-none\",\n              style: {\n                left: sig.x,\n                top: sig.y,\n                width: sig.width || 180,\n                height: sig.height || 60,\n                transform: `rotate(${sig.rotation || 0}deg)`,\n                userSelect: 'none'\n              },\n              draggable: false,\n              onClick: e => {\n                e.stopPropagation();\n                console.log('Signature selected:', sig);\n                sig.onSelect();\n              },\n              onError: e => {\n                console.error('Signature image failed to load:', sig.id);\n                e.target.style.display = 'none';\n              }\n            }, sig.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 15\n          }, this)\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 p-2 bg-blue-100 border border-blue-300 rounded text-xs text-blue-900 w-full max-w-2xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"numPages: \", numPages]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Rendering pages: \", numPages && Array.from(new Array(numPages), (el, idx) => idx + 1).join(', ')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 7\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 247,\n    columnNumber: 5\n  }, this);\n};\n_s(PDFRenderer, \"qwW2twxi9TEfni54rnfUMKr8r0s=\");\n_c = PDFRenderer;\nexport default PDFRenderer;\nvar _c;\n$RefreshReg$(_c, \"PDFRenderer\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Document","Page","pdfjs","MinimalPDFRenderer","jsxDEV","_jsxDEV","GlobalWorkerOptions","workerSrc","version","PDFRenderer","file","signatures","activeSignature","onPlaceSignature","children","_s","numPages","setNumPages","pageSizes","setPageSizes","loading","setLoading","error","setError","containerWidth","setContainerWidth","containerRef","loadTimeout","setLoadTimeout","pdfSource","setPdfSource","publicPdfUrl","fitToWidth","current","sidebarWidth","maxWidth","width","Math","min","window","innerWidth","addEventListener","removeEventListener","console","log","Blob","File","size","name","reader","FileReader","onload","e","target","result","slice","onerror","readAsArrayBuffer","timeout","setTimeout","clearTimeout","offsetWidth","handleLoadSuccess","handleLoadError","message","handlePageRenderSuccess","pageNum","page","height","getViewport","scale","sizes","handlePageRenderError","pageNumber","handlePageClick","rect","currentTarget","getBoundingClientRect","x","clientX","left","y","clientY","top","handleDrag","sig","isSelected","stopPropagation","startX","startY","origX","origY","move","moveEvent","dx","dy","onUpdate","id","up","handleResize","corner","origW","origH","newW","newH","newX","newY","max","handleRotate","parentNode","centerX","centerY","startAngle","rotation","angle","atan2","PI","getFileSource","url","URL","createObjectURL","className","fileName","_jsxFileName","lineNumber","columnNumber","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","ref","style","background","fontSize","fontWeight","margin","onClick","debug","onLoadSuccess","onLoadError","pointerEvents","position","zIndex","Array","map","_","i","x1","y1","x2","y2","strokeDasharray","opacity","from","el","idx","onRenderSuccess","onRenderError","filter","s","transform","userSelect","onMouseDown","onSelect","src","data","alt","draggable","onError","display","includes","bottom","right","onDelete","join","_c","$RefreshReg$"],"sources":["D:/Doc Sign/client/src/components/PDFRenderer.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Document, Page, pdfjs } from 'react-pdf';\r\nimport MinimalPDFRenderer from './MinimalPDFRenderer';\r\n\r\n// Standardize PDF.js worker source\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\r\n\r\nconst PDFRenderer = ({ file, signatures = [], activeSignature, onPlaceSignature, children }) => {\r\n  const [numPages, setNumPages] = useState(null);\r\n  const [pageSizes, setPageSizes] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [containerWidth, setContainerWidth] = useState(900);\r\n  const containerRef = useRef();\r\n  const [loadTimeout, setLoadTimeout] = useState(false);\r\n  const [pdfSource, setPdfSource] = useState('blob'); // 'blob', 'url', 'public'\r\n\r\n  // Known-good public PDF URL\r\n  const publicPdfUrl = 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf';\r\n\r\n  // Auto-fit to width on mount and resize\r\n  useEffect(() => {\r\n    const fitToWidth = () => {\r\n      if (!containerRef.current) return;\r\n      const sidebarWidth = 260;\r\n      const maxWidth = 1400;\r\n      const width = Math.min(window.innerWidth - sidebarWidth - 64, maxWidth);\r\n      setContainerWidth(width);\r\n    };\r\n    fitToWidth();\r\n    window.addEventListener('resize', fitToWidth);\r\n    return () => window.removeEventListener('resize', fitToWidth);\r\n  }, []);\r\n\r\n  // Debug logging\r\n  useEffect(() => {\r\n    console.log('PDFRenderer: file prop changed:', file);\r\n    console.log('PDFRenderer: file type:', typeof file);\r\n    console.log('PDFRenderer: file instanceof Blob:', file instanceof Blob);\r\n    console.log('PDFRenderer: file instanceof File:', file instanceof File);\r\n    if (file) {\r\n      console.log('PDFRenderer: file size:', file.size);\r\n      console.log('PDFRenderer: file name:', file.name);\r\n      \r\n      // Test if we can read the blob\r\n      if (file instanceof Blob) {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          console.log('Blob read successfully, first 100 bytes:', e.target.result.slice(0, 100));\r\n        };\r\n        reader.onerror = (e) => {\r\n          console.error('Error reading blob:', e);\r\n        };\r\n        reader.readAsArrayBuffer(file);\r\n      }\r\n    }\r\n  }, [file]);\r\n\r\n  // Add a timeout for PDF loading\r\n  useEffect(() => {\r\n    if (!numPages) {\r\n      const timeout = setTimeout(() => setLoadTimeout(true), 10000);\r\n      return () => clearTimeout(timeout);\r\n    } else {\r\n      setLoadTimeout(false);\r\n    }\r\n  }, [numPages]);\r\n\r\n  useEffect(() => {\r\n    if (containerRef.current) {\r\n      console.log('PDFRenderer: container width:', containerRef.current.offsetWidth);\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    console.log('PDFRenderer: COMPONENT RENDERED - DEBUG BANNER SHOULD BE VISIBLE');\r\n  });\r\n\r\n  const handleLoadSuccess = ({ numPages }) => {\r\n    console.log('PDFRenderer: PDF loaded successfully with', numPages, 'pages');\r\n    setNumPages(numPages);\r\n    setLoading(false);\r\n    setError(null);\r\n  };\r\n\r\n  const handleLoadError = (error) => {\r\n    console.error('PDFRenderer: PDF load error:', error);\r\n    setError(`Failed to load PDF: ${error.message || 'Unknown error'}`);\r\n    setLoading(false);\r\n  };\r\n\r\n  const handlePageRenderSuccess = (pageNum, page) => {\r\n    console.log(`PDFRenderer: Page ${pageNum} rendered successfully`);\r\n    const { width, height } = page.getViewport({ scale: containerWidth / width });\r\n    console.log(`PDFRenderer: Page ${pageNum} dimensions:`, { width, height });\r\n    setPageSizes(sizes => ({ ...sizes, [pageNum]: { width, height } }));\r\n  };\r\n\r\n  const handlePageRenderError = (error, pageNumber) => {\r\n    console.error(`PDFRenderer: Error rendering page ${pageNumber}:`, error);\r\n  };\r\n\r\n  // Click-to-place handler\r\n  const handlePageClick = (e, pageNum) => {\r\n    if (!activeSignature) return;\r\n    const rect = e.currentTarget.getBoundingClientRect();\r\n    const x = (e.clientX - rect.left);\r\n    const y = (e.clientY - rect.top);\r\n    onPlaceSignature(pageNum, x, y);\r\n  };\r\n\r\n  // Drag, resize, rotate handlers for placed signatures\r\n  const handleDrag = (e, sig) => {\r\n    if (!sig.isSelected) return;\r\n    e.stopPropagation();\r\n    const startX = e.clientX;\r\n    const startY = e.clientY;\r\n    const origX = sig.x;\r\n    const origY = sig.y;\r\n    const move = (moveEvent) => {\r\n      const dx = (moveEvent.clientX - startX);\r\n      const dy = (moveEvent.clientY - startY);\r\n      sig.onUpdate(sig.id, { x: origX + dx, y: origY + dy });\r\n    };\r\n    const up = () => {\r\n      window.removeEventListener('mousemove', move);\r\n      window.removeEventListener('mouseup', up);\r\n    };\r\n    window.addEventListener('mousemove', move);\r\n    window.addEventListener('mouseup', up);\r\n  };\r\n\r\n  const handleResize = (e, sig, corner) => {\r\n    if (!sig.isSelected) return;\r\n    e.stopPropagation();\r\n    const startX = e.clientX;\r\n    const startY = e.clientY;\r\n    const origW = sig.width;\r\n    const origH = sig.height;\r\n    const origX = sig.x;\r\n    const origY = sig.y;\r\n    const move = (moveEvent) => {\r\n      let dx = (moveEvent.clientX - startX);\r\n      let dy = (moveEvent.clientY - startY);\r\n      let newW = origW, newH = origH, newX = origX, newY = origY;\r\n      if (corner === 'se') { newW = origW + dx; newH = origH + dy; }\r\n      if (corner === 'sw') { newW = origW - dx; newH = origH + dy; newX = origX + dx; }\r\n      if (corner === 'ne') { newW = origW + dx; newH = origH - dy; newY = origY + dy; }\r\n      if (corner === 'nw') { newW = origW - dx; newH = origH - dy; newX = origX + dx; newY = origY + dy; }\r\n      newW = Math.max(40, newW); newH = Math.max(20, newH);\r\n      sig.onUpdate(sig.id, { width: newW, height: newH, x: newX, y: newY });\r\n    };\r\n    const up = () => {\r\n      window.removeEventListener('mousemove', move);\r\n      window.removeEventListener('mouseup', up);\r\n    };\r\n    window.addEventListener('mousemove', move);\r\n    window.addEventListener('mouseup', up);\r\n  };\r\n\r\n  const handleRotate = (e, sig) => {\r\n    if (!sig.isSelected) return;\r\n    e.stopPropagation();\r\n    const rect = e.currentTarget.parentNode.getBoundingClientRect();\r\n    const centerX = rect.left + rect.width / 2;\r\n    const centerY = rect.top + rect.height / 2;\r\n    const startAngle = sig.rotation || 0;\r\n    const move = (moveEvent) => {\r\n      const dx = moveEvent.clientX - centerX;\r\n      const dy = moveEvent.clientY - centerY;\r\n      const angle = Math.atan2(dy, dx) * 180 / Math.PI;\r\n      sig.onUpdate(sig.id, { rotation: angle });\r\n    };\r\n    const up = () => {\r\n      window.removeEventListener('mousemove', move);\r\n      window.removeEventListener('mouseup', up);\r\n    };\r\n    window.addEventListener('mousemove', move);\r\n    window.addEventListener('mouseup', up);\r\n  };\r\n\r\n  // Accept file as either Blob or URL\r\n  const getFileSource = () => {\r\n    if (pdfSource === 'blob') {\r\n      console.log('PDFRenderer: Using Blob as file source');\r\n      return file;\r\n    }\r\n    if (pdfSource === 'url') {\r\n      if (typeof file === 'string') {\r\n        console.log('PDFRenderer: Using object URL as file source');\r\n        return file;\r\n      }\r\n      // If file is a Blob, create an object URL\r\n      if (file instanceof Blob) {\r\n        const url = URL.createObjectURL(file);\r\n        console.log('PDFRenderer: Created object URL from Blob:', url);\r\n        return url;\r\n      }\r\n      return '';\r\n    }\r\n    if (pdfSource === 'public') {\r\n      console.log('PDFRenderer: Using public PDF URL as file source');\r\n      return publicPdfUrl;\r\n    }\r\n    return file;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"w-full h-full flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto mb-2\"></div>\r\n          <p className=\"text-gray-600 text-sm\">\r\n            Loading PDF...\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"w-full h-full flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"text-red-500 mb-2\">\r\n            <svg className=\"w-8 h-8 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n            </svg>\r\n          </div>\r\n          <p className=\"text-gray-600 text-sm mb-2\">{error}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!file) {\r\n    return (\r\n      <div className=\"w-full h-full flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-gray-600 text-sm\">No PDF file provided</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div ref={containerRef} className=\"w-full h-full min-h-0 min-w-0 flex-1 flex flex-col items-center py-0 bg-gray-50 border-4 border-blue-400\" style={{ background: '#f8fafc' }}>\r\n      <div className=\"w-full bg-yellow-400 text-black text-center font-bold py-2 text-lg mb-2 z-50\">PDFRenderer ACTIVE - DEBUG MODE</div>\r\n      {/* EXTREMELY VISIBLE PDF source toggle */}\r\n      <div className=\"flex items-center mb-6 space-x-6 p-4 bg-pink-300 border-4 border-pink-600 rounded-xl\" style={{ fontSize: '1.5rem', fontWeight: 'bold', margin: '24px 0' }}>\r\n        <span className=\"text-black\">PDF Source:</span>\r\n        <button onClick={() => setPdfSource('blob')} className={`px-6 py-3 rounded-xl border-4 ${pdfSource === 'blob' ? 'bg-indigo-600 text-white border-indigo-800' : 'bg-white text-indigo-800 border-indigo-400'} transition-all`}>Blob</button>\r\n        <button onClick={() => setPdfSource('url')} className={`px-6 py-3 rounded-xl border-4 ${pdfSource === 'url' ? 'bg-green-600 text-white border-green-800' : 'bg-white text-green-800 border-green-400'} transition-all`}>Object URL</button>\r\n        <button onClick={() => setPdfSource('public')} className={`px-6 py-3 rounded-xl border-4 ${pdfSource === 'public' ? 'bg-yellow-500 text-black border-yellow-800' : 'bg-white text-yellow-800 border-yellow-400'} transition-all`}>Public PDF</button>\r\n      </div>\r\n      <div className=\"w-full bg-green-300 text-black text-center font-bold py-2 text-lg mb-4 z-50\">PDFRenderer BUTTONS DEBUG BANNER</div>\r\n      {/* Debug: MinimalPDFRenderer for comparison */}\r\n      <div className=\"w-full max-w-2xl mb-4 border-2 border-green-400 bg-green-50\">\r\n        <MinimalPDFRenderer file={getFileSource()} debug={true} />\r\n      </div>\r\n      {loadTimeout && !numPages && (\r\n        <div className=\"text-red-600 font-semibold p-4 border border-red-300 bg-red-50 rounded-lg mb-4\">PDF failed to load after 10 seconds. Please check the file or try reloading.</div>\r\n      )}\r\n      <Document \r\n        file={getFileSource()} \r\n        onLoadSuccess={handleLoadSuccess}\r\n        onLoadError={handleLoadError}\r\n        loading={\r\n          <div className=\"flex items-center justify-center p-8 w-full h-full min-h-[400px]\">\r\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-3\"></div>\r\n            <span>Loading PDF...</span>\r\n          </div>\r\n        }\r\n        error={\r\n          <div className=\"flex items-center justify-center p-8 w-full h-full min-h-[400px]\">\r\n            <div className=\"text-red-500 mb-2\">\r\n              <svg className=\"w-8 h-8 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n            </div>\r\n            <p className=\"text-gray-600\">Error loading PDF. Please try reloading or check the file.</p>\r\n          </div>\r\n        }\r\n      >\r\n        {/* Grid overlay for alignment */}\r\n        {activeSignature && (\r\n          <div className=\"absolute left-0 top-0 w-full h-full z-40 pointer-events-none\" style={{ pointerEvents: 'none' }}>\r\n            <svg width=\"100%\" height=\"100%\" style={{ position: 'absolute', left: 0, top: 0, zIndex: 40 }}>\r\n              {[...Array(20)].map((_, i) => (\r\n                <line key={`v${i}`} x1={`${(i+1)*5}%`} y1=\"0\" x2={`${(i+1)*5}%`} y2=\"100%\" stroke=\"#3b82f6\" strokeDasharray=\"4 4\" strokeWidth=\"0.5\" opacity=\"0.2\" />\r\n              ))}\r\n              {[...Array(20)].map((_, i) => (\r\n                <line key={`h${i}`} x1=\"0\" y1={`${(i+1)*5}%`} x2=\"100%\" y2={`${(i+1)*5}%`} stroke=\"#3b82f6\" strokeDasharray=\"4 4\" strokeWidth=\"0.5\" opacity=\"0.2\" />\r\n              ))}\r\n            </svg>\r\n          </div>\r\n        )}\r\n        {numPages && Array.from(new Array(numPages), (el, idx) => {\r\n          const pageNum = idx + 1;\r\n          return (\r\n            <div key={idx} className=\"relative mb-8 flex justify-center w-full min-h-0 min-w-0 flex-1\">\r\n              <div className=\"bg-white shadow-xl rounded-lg flex items-center justify-center border-4 border-red-400 border-dashed w-full min-h-0 min-w-0 flex-1\" style={{ position: 'relative', background: '#fff' }}>\r\n                <Page\r\n                  pageNumber={pageNum}\r\n                  width={900}\r\n                  className=\"rounded-lg\"\r\n                  onRenderSuccess={page => handlePageRenderSuccess(pageNum, page)}\r\n                  onRenderError={(error) => handlePageRenderError(error, pageNum)}\r\n                  loading={\r\n                    <div className=\"animate-pulse bg-gray-200 rounded-lg flex items-center justify-center w-full min-h-[400px]\">\r\n                      <span className=\"text-gray-500\">Loading page {pageNum}...</span>\r\n                    </div>\r\n                  }\r\n                  error={\r\n                    <div className=\"border-2 border-red-200 rounded-lg flex items-center justify-center bg-red-50 w-full min-h-[400px]\">\r\n                      <span className=\"text-red-500\">Error loading page {pageNum}</span>\r\n                    </div>\r\n                  }\r\n                />\r\n                {/* Click-to-place overlay */}\r\n                <div\r\n                  className={`absolute left-0 top-0 w-full h-full z-30 ${activeSignature ? 'cursor-crosshair hover:ring-2 hover:ring-indigo-400 bg-blue-100/20' : ''}`}\r\n                  style={{ background: activeSignature ? 'rgba(59,130,246,0.08)' : 'transparent' }}\r\n                  onClick={e => {\r\n                    if (activeSignature) {\r\n                      const rect = e.currentTarget.getBoundingClientRect();\r\n                      const x = (e.clientX - rect.left);\r\n                      const y = (e.clientY - rect.top);\r\n                      console.log('Placing signature:', { pageNum, x, y, activeSignature });\r\n                    }\r\n                    handlePageClick(e, pageNum);\r\n                  }}\r\n                  aria-label=\"PDF page click layer\"\r\n                />\r\n                {/* Placed signatures for this page */}\r\n                {signatures.filter(s => s.page === pageNum).map(sig => (\r\n                  sig.isSelected ? (\r\n                    <div\r\n                      key={sig.id}\r\n                      className=\"absolute z-50 group ring-4 ring-green-500\"\r\n                      style={{\r\n                        left: sig.x,\r\n                        top: sig.y,\r\n                        width: (sig.width || 180),\r\n                        height: (sig.height || 60),\r\n                        transform: `rotate(${sig.rotation || 0}deg)`,\r\n                        userSelect: 'none',\r\n                      }}\r\n                      onMouseDown={e => handleDrag(e, sig)}\r\n                      onClick={e => { e.stopPropagation(); console.log('Signature selected:', sig); sig.onSelect(); }}\r\n                    >\r\n                      <img\r\n                        src={sig.data}\r\n                        alt=\"Signature\"\r\n                        className=\"w-full h-full object-contain pointer-events-none rounded shadow\"\r\n                        draggable={false}\r\n                        onError={(e) => {\r\n                          console.error('Signature image failed to load:', sig.id);\r\n                          e.target.style.display = 'none';\r\n                        }}\r\n                      />\r\n                      {/* Resize handles */}\r\n                      {['nw','ne','sw','se'].map(corner => (\r\n                        <div\r\n                          key={corner}\r\n                          className={`absolute w-3 h-3 bg-white border-2 border-indigo-500 rounded-full cursor-${corner}-resize`}\r\n                          style={{\r\n                            ...(corner.includes('n') ? { top: -6 } : { bottom: -6 }),\r\n                            ...(corner.includes('w') ? { left: -6 } : { right: -6 }),\r\n                            zIndex: 60\r\n                          }}\r\n                          onMouseDown={e => handleResize(e, sig, corner)}\r\n                        />\r\n                      ))}\r\n                      {/* Rotate handle */}\r\n                      <div\r\n                        className=\"absolute -top-8 left-1/2 transform -translate-x-1/2 w-6 h-6 bg-indigo-500 text-white rounded-full flex items-center justify-center cursor-pointer shadow\"\r\n                        style={{ zIndex: 60 }}\r\n                        onMouseDown={e => handleRotate(e, sig)}\r\n                      >\r\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\r\n                        </svg>\r\n                      </div>\r\n                      {/* Delete button */}\r\n                      <button\r\n                        className=\"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-lg\"\r\n                        style={{ zIndex: 60 }}\r\n                        onClick={e => { e.stopPropagation(); sig.onDelete(sig.id); }}\r\n                      >\r\n                        <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                        </svg>\r\n                      </button>\r\n                    </div>\r\n                  ) : (\r\n                    <img\r\n                      key={sig.id}\r\n                      src={sig.data}\r\n                      alt=\"Signature\"\r\n                      className=\"absolute z-40 pointer-events-none\"\r\n                      style={{\r\n                        left: sig.x,\r\n                        top: sig.y,\r\n                        width: (sig.width || 180),\r\n                        height: (sig.height || 60),\r\n                        transform: `rotate(${sig.rotation || 0}deg)`,\r\n                        userSelect: 'none',\r\n                      }}\r\n                      draggable={false}\r\n                      onClick={e => { e.stopPropagation(); console.log('Signature selected:', sig); sig.onSelect(); }}\r\n                      onError={(e) => {\r\n                        console.error('Signature image failed to load:', sig.id);\r\n                        e.target.style.display = 'none';\r\n                      }}\r\n                    />\r\n                  )\r\n                ))}\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </Document>\r\n      {/* Debug info */}\r\n      <div className=\"mt-4 p-2 bg-blue-100 border border-blue-300 rounded text-xs text-blue-900 w-full max-w-2xl\">\r\n        <div>numPages: {numPages}</div>\r\n        <div>Rendering pages: {numPages && Array.from(new Array(numPages), (el, idx) => idx + 1).join(', ')}</div>\r\n      </div>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PDFRenderer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}