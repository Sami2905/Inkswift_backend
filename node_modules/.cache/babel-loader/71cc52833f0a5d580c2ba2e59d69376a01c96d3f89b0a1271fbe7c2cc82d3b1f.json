{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar PDFDict_1 = tslib_1.__importDefault(require(\"../objects/PDFDict\"));\nvar PDFName_1 = tslib_1.__importDefault(require(\"../objects/PDFName\"));\nvar acroform_1 = require(\"../acroform\");\nvar ViewerPreferences_1 = tslib_1.__importDefault(require(\"../interactive/ViewerPreferences\"));\nvar PDFCatalog = /** @class */function (_super) {\n  tslib_1.__extends(PDFCatalog, _super);\n  function PDFCatalog() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  PDFCatalog.prototype.Pages = function () {\n    return this.lookup(PDFName_1.default.of('Pages'), PDFDict_1.default);\n  };\n  PDFCatalog.prototype.AcroForm = function () {\n    return this.lookupMaybe(PDFName_1.default.of('AcroForm'), PDFDict_1.default);\n  };\n  PDFCatalog.prototype.getAcroForm = function () {\n    var dict = this.AcroForm();\n    if (!dict) return undefined;\n    return acroform_1.PDFAcroForm.fromDict(dict);\n  };\n  PDFCatalog.prototype.getOrCreateAcroForm = function () {\n    var acroForm = this.getAcroForm();\n    if (!acroForm) {\n      acroForm = acroform_1.PDFAcroForm.create(this.context);\n      var acroFormRef = this.context.register(acroForm.dict);\n      this.set(PDFName_1.default.of('AcroForm'), acroFormRef);\n    }\n    return acroForm;\n  };\n  PDFCatalog.prototype.ViewerPreferences = function () {\n    return this.lookupMaybe(PDFName_1.default.of('ViewerPreferences'), PDFDict_1.default);\n  };\n  PDFCatalog.prototype.getViewerPreferences = function () {\n    var dict = this.ViewerPreferences();\n    if (!dict) return undefined;\n    return ViewerPreferences_1.default.fromDict(dict);\n  };\n  PDFCatalog.prototype.getOrCreateViewerPreferences = function () {\n    var viewerPrefs = this.getViewerPreferences();\n    if (!viewerPrefs) {\n      viewerPrefs = ViewerPreferences_1.default.create(this.context);\n      var viewerPrefsRef = this.context.register(viewerPrefs.dict);\n      this.set(PDFName_1.default.of('ViewerPreferences'), viewerPrefsRef);\n    }\n    return viewerPrefs;\n  };\n  /**\n   * Inserts the given ref as a leaf node of this catalog's page tree at the\n   * specified index (zero-based). Also increments the `Count` of each node in\n   * the page tree hierarchy to accomodate the new page.\n   *\n   * Returns the ref of the PDFPageTree node into which `leafRef` was inserted.\n   */\n  PDFCatalog.prototype.insertLeafNode = function (leafRef, index) {\n    var pagesRef = this.get(PDFName_1.default.of('Pages'));\n    var maybeParentRef = this.Pages().insertLeafNode(leafRef, index);\n    return maybeParentRef || pagesRef;\n  };\n  PDFCatalog.prototype.removeLeafNode = function (index) {\n    this.Pages().removeLeafNode(index);\n  };\n  PDFCatalog.withContextAndPages = function (context, pages) {\n    var dict = new Map();\n    dict.set(PDFName_1.default.of('Type'), PDFName_1.default.of('Catalog'));\n    dict.set(PDFName_1.default.of('Pages'), pages);\n    return new PDFCatalog(dict, context);\n  };\n  PDFCatalog.fromMapWithContext = function (map, context) {\n    return new PDFCatalog(map, context);\n  };\n  return PDFCatalog;\n}(PDFDict_1.default);\nexports.default = PDFCatalog;","map":{"version":3,"names":["PDFDict_1","tslib_1","__importDefault","require","PDFName_1","acroform_1","ViewerPreferences_1","PDFCatalog","_super","__extends","prototype","Pages","lookup","default","of","AcroForm","lookupMaybe","getAcroForm","dict","undefined","PDFAcroForm","fromDict","getOrCreateAcroForm","acroForm","create","context","acroFormRef","register","set","ViewerPreferences","getViewerPreferences","getOrCreateViewerPreferences","viewerPrefs","viewerPrefsRef","insertLeafNode","leafRef","index","pagesRef","get","maybeParentRef","removeLeafNode","withContextAndPages","pages","Map","fromMapWithContext","map","exports"],"sources":["../../../src/core/structures/PDFCatalog.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}