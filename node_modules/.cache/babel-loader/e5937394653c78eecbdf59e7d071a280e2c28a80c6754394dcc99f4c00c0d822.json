{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import Header from'../components/Header';import{motion}from'framer-motion';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const RegisterPage=()=>{const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[firstName,setFirstName]=useState('');const[lastName,setLastName]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const[showPassword,setShowPassword]=useState(false);const navigate=useNavigate();const{login}=useAuth();const handleSubmit=async e=>{e.preventDefault();setError('');setLoading(true);try{const res=await axios.post('/api/auth/register',{email,password,firstName,lastName});login(res.data.user,res.data.token,res.data.refreshToken);navigate('/dashboard');}catch(err){var _err$response,_err$response2,_err$response2$data;console.error('Registration error:',((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.data)||err.message);setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'Registration failed.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"main\",{id:\"main-content\",className:\"min-h-screen flex items-center justify-center bg-gray-50\",role:\"main\",\"aria-label\":\"Register main content\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"w-full max-w-md p-4 sm:p-8 bg-white rounded-2xl shadow-md\",\"aria-labelledby\":\"register-title\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"register-title\",className:\"text-2xl font-semibold text-indigo-600 mb-4\",children:\"Create Inkswift Account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",\"aria-label\":\"Register form\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",htmlFor:\"register-firstname\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"register-firstname\",type:\"text\",className:\"mt-1 w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-600 focus:outline-none\",value:firstName,onChange:e=>setFirstName(e.target.value),required:true,autoFocus:true,\"aria-label\":\"First Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",htmlFor:\"register-lastname\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"register-lastname\",type:\"text\",className:\"mt-1 w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-600 focus:outline-none\",value:lastName,onChange:e=>setLastName(e.target.value),required:true,\"aria-label\":\"Last Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",htmlFor:\"register-email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{id:\"register-email\",type:\"email\",className:\"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400\",placeholder:\"Email\",required:true,\"aria-label\":\"Email\",value:email,onChange:e=>setEmail(e.target.value),autoComplete:\"email\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",htmlFor:\"register-password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"register-password\",type:showPassword?'text':'password',className:\"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400\",placeholder:\"Password\",required:true,\"aria-label\":\"Password\",value:password,onChange:e=>setPassword(e.target.value),autoComplete:\"new-password\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"ml-2 text-xs text-sky-500 hover:underline focus:outline-none focus:ring-2 focus:ring-sky-400 rounded\",onClick:()=>setShowPassword(s=>!s),\"aria-label\":showPassword?'Hide password':'Show password',children:showPassword?'Hide':'Show'})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-rose-500 text-sm\",role:\"alert\",children:error}),/*#__PURE__*/_jsx(motion.button,{type:\"submit\",className:\"w-full py-2 px-4 bg-indigo-600 text-white rounded-xl font-semibold hover:scale-105 transition-transform focus:outline-none focus:ring-2 focus:ring-indigo-400 disabled:opacity-50\",disabled:loading,\"aria-label\":\"Register\",whileHover:{scale:1.04},whileTap:{scale:0.97},children:loading?'Registering...':'Register'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-sm text-gray-500 text-center\",children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(\"a\",{href:\"/login\",className:\"text-sky-500 hover:underline\",children:\"Login\"})]})]})})]});};export default RegisterPage;","map":{"version":3,"names":["React","useState","useNavigate","axios","Header","motion","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RegisterPage","email","setEmail","password","setPassword","firstName","setFirstName","lastName","setLastName","error","setError","loading","setLoading","showPassword","setShowPassword","navigate","login","handleSubmit","e","preventDefault","res","post","data","user","token","refreshToken","err","_err$response","_err$response2","_err$response2$data","console","response","message","children","id","className","role","onSubmit","htmlFor","type","value","onChange","target","required","autoFocus","placeholder","autoComplete","onClick","s","button","disabled","whileHover","scale","whileTap","href"],"sources":["D:/Doc Sign/client/src/pages/RegisterPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Header from '../components/Header';\r\nimport { motion } from 'framer-motion';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst RegisterPage = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const navigate = useNavigate();\r\n  const { login } = useAuth();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setLoading(true);\r\n    try {\r\n      const res = await axios.post('/api/auth/register', { email, password, firstName, lastName });\r\n      login(res.data.user, res.data.token, res.data.refreshToken);\r\n      navigate('/dashboard');\r\n    } catch (err) {\r\n      console.error('Registration error:', err.response?.data || err.message);\r\n      setError(err.response?.data?.message || 'Registration failed.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <main id=\"main-content\" className=\"min-h-screen flex items-center justify-center bg-gray-50\" role=\"main\" aria-label=\"Register main content\">\r\n        <section className=\"w-full max-w-md p-4 sm:p-8 bg-white rounded-2xl shadow-md\" aria-labelledby=\"register-title\">\r\n          <h1 id=\"register-title\" className=\"text-2xl font-semibold text-indigo-600 mb-4\">Create Inkswift Account</h1>\r\n          <form onSubmit={handleSubmit} className=\"space-y-4\" aria-label=\"Register form\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\" htmlFor=\"register-firstname\">First Name</label>\r\n              <input\r\n                id=\"register-firstname\"\r\n                type=\"text\"\r\n                className=\"mt-1 w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-600 focus:outline-none\"\r\n                value={firstName}\r\n                onChange={e => setFirstName(e.target.value)}\r\n                required\r\n                autoFocus\r\n                aria-label=\"First Name\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\" htmlFor=\"register-lastname\">Last Name</label>\r\n              <input\r\n                id=\"register-lastname\"\r\n                type=\"text\"\r\n                className=\"mt-1 w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-600 focus:outline-none\"\r\n                value={lastName}\r\n                onChange={e => setLastName(e.target.value)}\r\n                required\r\n                aria-label=\"Last Name\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\" htmlFor=\"register-email\">Email</label>\r\n              <input\r\n                id=\"register-email\"\r\n                type=\"email\"\r\n                className=\"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400\"\r\n                placeholder=\"Email\"\r\n                required\r\n                aria-label=\"Email\"\r\n                value={email}\r\n                onChange={e => setEmail(e.target.value)}\r\n                autoComplete=\"email\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\" htmlFor=\"register-password\">Password</label>\r\n              <input\r\n                id=\"register-password\"\r\n                type={showPassword ? 'text' : 'password'}\r\n                className=\"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400\"\r\n                placeholder=\"Password\"\r\n                required\r\n                aria-label=\"Password\"\r\n                value={password}\r\n                onChange={e => setPassword(e.target.value)}\r\n                autoComplete=\"new-password\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className=\"ml-2 text-xs text-sky-500 hover:underline focus:outline-none focus:ring-2 focus:ring-sky-400 rounded\"\r\n                onClick={() => setShowPassword(s => !s)}\r\n                aria-label={showPassword ? 'Hide password' : 'Show password'}\r\n              >{showPassword ? 'Hide' : 'Show'}</button>\r\n            </div>\r\n            {error && <div className=\"text-rose-500 text-sm\" role=\"alert\">{error}</div>}\r\n            <motion.button\r\n              type=\"submit\"\r\n              className=\"w-full py-2 px-4 bg-indigo-600 text-white rounded-xl font-semibold hover:scale-105 transition-transform focus:outline-none focus:ring-2 focus:ring-indigo-400 disabled:opacity-50\"\r\n              disabled={loading}\r\n              aria-label=\"Register\"\r\n              whileHover={{ scale: 1.04 }}\r\n              whileTap={{ scale: 0.97 }}\r\n            >\r\n              {loading ? 'Registering...' : 'Register'}\r\n            </motion.button>\r\n          </form>\r\n          <div className=\"mt-4 text-sm text-gray-500 text-center\">\r\n            Already have an account?{' '}\r\n            <a href=\"/login\" className=\"text-sky-500 hover:underline\">Login</a>\r\n          </div>\r\n        </section>\r\n      </main>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RegisterPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}